{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?5b85","webpack:///./src/App.vue?fb85","webpack:///./src/utils/priority-queue.ts","webpack:///./src/utils/graph.ts","webpack:///./src/game-engine/run-result.ts","webpack:///./src/utils/math.ts","webpack:///./src/game-engine/engine.ts","webpack:///./src/graphics/graphics.ts","webpack:///./src/components/Logo.vue?b6d0","webpack:///./src/components/Logo.vue","webpack:///./src/App.vue.ts","webpack:///./src/App.vue.ts?2757","webpack:///./src/App.vue","webpack:///./src/registerServiceWorker.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","rawName","graphics","expression","attrs","type","domProps","checked","_q","towerAction","on","change","$event","$set","click","clearTowers","run","ref","staticRenderFns","QElement","element","priority","PriorityQueue","size","initSize","items","Array","fill","enqueue","qElement","parent","dequeue","isEmpty","top","last","left","right","minChild","front","getSize","findShortestPath","start","end","queue","visited","node","edge","dist","next","id","fromEdge","_i","_a","edges","to","path","nextNode","from","reverse","MoveEvent","time","isSlowed","angle","SlowEvent","RunResult","moveEvents","slowEvents","getDelta","abs","delta","x","y","Math","pointsEqual","p1","p2","getDistance","sqrt","gcd","a","b","getAngle","deltaX","deltaY","atan2","deg","PI","getIntersections","circle","line","v1","v2","center","radius","isNaN","u1","u2","retP1","retP2","Tower","isSlow","isFixed","Node","Edge","arg1","arg2","engine_GameEngine","GameEngine","config","defaultConfig","entranceLength","boardHeight","boardWidth","moveSpeed","turnRate","slowTowerRange","slowFactor","slowDuration","tslib_es6","init","initNodes","resetTowers","xMid","xMidLeft","floor","xMidRight","ceil","spawn","nodes","buildEntranceEdges","buildEdges","ramp","isStart","rampDist","setTower","deleteSingleTower","towers","deleteTower","tower","rows","getRunResult","buildGraph","startNode","endNode","shortestPath","buildRunResult","allNodes","board","isNodeBlocked","rampNodes","rampNodes_1","allNodes_1","_b","isEdgeBlocked","max","startX","min","endX","startY","endY","lowerX","higherX","isDirectionTopLeftBottomRight","towerPassPoint1","towerPassPoint2","tp1Angle","tp2Angle","canPassTower","_this","slowEndTime","slowTowers","getSlowTowers","map","slowReadyTime","forEach","lastResult","ms","timeEvents","isTurning","deltaAngle","towerSlowEndTime","towerCircle","getTowerCircle","intersections","intersectionDist","intersectionTime","nextTimeEvent","nextTime","deltaTime","angleDir","newAngle","deltaMov","deltaDist","newPoint","widthMargin","heightMargin","tileSize","tileColor","tileGridColor","tileLineWidth","graphics_GameGraphics","GameGraphics","engine","timer","initialize","el","width","height","pixi_es","renderer","backgroundColor","appendChild","view","graphics_TimerGraphics","setupBoard","rampWidth","rampLength","rampXCoord","getXCoord","exit","buildRamp","entrance","getYCoord","stage","addChild","this_1","xCoord","yCoord","tile","buildTile","interactive","addListener","tileClicked","lineStyle","beginFill","drawRect","endFill","updateTowers","mazer","graphics_MazerGraphics","slowAnimations","reduce","animations","event","graphics_SlowAnimation","activateTimes","curMoveEvent","startTime","loop","elapsedTimeS","finishedEvent","text","toFixed","remove","values","curEvent","nextEvent","update","slowed","angleChange","requestAnimationFrame","setTimeout","alert","engineTowers","engineTower","graphics_TowerGraphics","TimerGraphics","font","anchor","val","removeChild","_super","TowerGraphics","orbRadius","color","drawCircle","MazerGraphics","tint","SlowAnimation","duration","isActivated","nextActivateTime","find","scale","Logovue_type_template_id_7019e3dc_render","viewBox","transform","stroke","stroke-width","cx","cy","Logovue_type_template_id_7019e3dc_staticRenderFns","script","component","componentNormalizer","Logo","App_vuevue_type_script_lang_ts_App","App","arguments","created","mounted","$refs","canvas","setupHotkeys","addEventListener","evt","which","Key_enum","T","S","D","vue_property_decorator","components","App_vuevue_type_script_lang_ts_","src_App_vuevue_type_script_lang_ts_","App_component","src_App","register_service_worker","ready","console","log","registered","cached","updatefound","updated","offline","error","vue_runtime_esm","productionTip","h","$mount"],"mappings":"aACA,SAAAA,EAAAC,GAQA,IAPA,IAMAC,EAAAC,EANAC,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GAIAM,EAAA,EAAAC,EAAA,GACQD,EAAAH,EAAAK,OAAoBF,IAC5BJ,EAAAC,EAAAG,GACAG,EAAAP,IACAK,EAAAG,KAAAD,EAAAP,GAAA,IAEAO,EAAAP,GAAA,EAEA,IAAAD,KAAAG,EACAO,OAAAC,UAAAC,eAAAC,KAAAV,EAAAH,KACAc,EAAAd,GAAAG,EAAAH,IAGAe,KAAAhB,GAEA,MAAAO,EAAAC,OACAD,EAAAU,OAAAV,GAOA,OAHAW,EAAAR,KAAAS,MAAAD,EAAAb,GAAA,IAGAe,IAEA,SAAAA,IAEA,IADA,IAAAC,EACAf,EAAA,EAAiBA,EAAAY,EAAAV,OAA4BF,IAAA,CAG7C,IAFA,IAAAgB,EAAAJ,EAAAZ,GACAiB,GAAA,EACAC,EAAA,EAAkBA,EAAAF,EAAAd,OAA2BgB,IAAA,CAC7C,IAAAC,EAAAH,EAAAE,GACA,IAAAf,EAAAgB,KAAAF,GAAA,GAEAA,IACAL,EAAAQ,OAAApB,IAAA,GACAe,EAAAM,IAAAC,EAAAN,EAAA,KAGA,OAAAD,EAIA,IAAAQ,EAAA,GAKApB,EAAA,CACAqB,IAAA,GAGAZ,EAAA,GAGA,SAAAS,EAAA1B,GAGA,GAAA4B,EAAA5B,GACA,OAAA4B,EAAA5B,GAAA8B,QAGA,IAAAC,EAAAH,EAAA5B,GAAA,CACAK,EAAAL,EACAgC,GAAA,EACAF,QAAA,IAUA,OANAhB,EAAAd,GAAAa,KAAAkB,EAAAD,QAAAC,IAAAD,QAAAJ,GAGAK,EAAAC,GAAA,EAGAD,EAAAD,QAKAJ,EAAAO,EAAAnB,EAGAY,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAL,EAAAM,EAAAC,GACAX,EAAAY,EAAAR,EAAAM,IACA1B,OAAA6B,eAAAT,EAAAM,EAAA,CAA0CI,YAAA,EAAAC,IAAAJ,KAK1CX,EAAAgB,EAAA,SAAAZ,GACA,qBAAAa,eAAAC,aACAlC,OAAA6B,eAAAT,EAAAa,OAAAC,YAAA,CAAwDC,MAAA,WAExDnC,OAAA6B,eAAAT,EAAA,cAAiDe,OAAA,KAQjDnB,EAAAoB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAAnB,EAAAmB,IACA,EAAAE,EAAA,OAAAF,EACA,KAAAE,GAAA,kBAAAF,QAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAvC,OAAAwC,OAAA,MAGA,GAFAxB,EAAAgB,EAAAO,GACAvC,OAAA6B,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,UACzC,EAAAE,GAAA,iBAAAF,EAAA,QAAAM,KAAAN,EAAAnB,EAAAS,EAAAc,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAvB,EAAA2B,EAAA,SAAAtB,GACA,IAAAM,EAAAN,KAAAiB,WACA,WAA2B,OAAAjB,EAAA,YAC3B,WAAiC,OAAAA,GAEjC,OADAL,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAgB,EAAAC,GAAsD,OAAA7C,OAAAC,UAAAC,eAAAC,KAAAyC,EAAAC,IAGtD7B,EAAA8B,EAAA,WAEA,IAAAC,EAAAC,OAAA,gBAAAA,OAAA,oBACAC,EAAAF,EAAAhD,KAAA2C,KAAAK,GACAA,EAAAhD,KAAAX,EACA2D,IAAAG,QACA,QAAAvD,EAAA,EAAgBA,EAAAoD,EAAAlD,OAAuBF,IAAAP,EAAA2D,EAAApD,IACvC,IAAAU,EAAA4C,EAIA1C,EAAAR,KAAA,qBAEAU,kFCtJA,IAAA0C,EAAAnC,EAAA,QAAAoC,EAAApC,EAAA2B,EAAAQ,GAAqbC,EAAG,8JCAxbC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,OAAkB,CAAAF,EAAA,UAAeE,YAAA,UAAqB,CAAAF,EAAA,QAAaE,YAAA,SAAmBF,EAAA,MAAWE,YAAA,cAAyB,CAAAN,EAAAO,GAAA,wBAAAH,EAAA,OAA2CE,YAAA,WAAsB,CAAAF,EAAA,OAAYE,YAAA,WAAsB,CAAAF,EAAA,OAAYE,YAAA,iBAA4B,CAAAF,EAAA,SAAAA,EAAA,SAA0BI,WAAA,EAAapC,KAAA,QAAAqC,QAAA,UAAA5B,MAAAmB,EAAAU,SAAA,YAAAC,WAAA,yBAAkGC,MAAA,CAASC,KAAA,QAAAzC,KAAA,eAAAS,MAAA,SAAqDiC,SAAA,CAAWC,QAAAf,EAAAgB,GAAAhB,EAAAU,SAAAO,YAAA,UAAmDC,GAAA,CAAKC,OAAA,SAAAC,GAA0B,OAAApB,EAAAqB,KAAArB,EAAAU,SAAA,2BAAwDN,EAAA,KAAAJ,EAAAO,GAAA,OAAAP,EAAAO,GAAA,UAAAH,EAAA,SAAAA,EAAA,SAAiEI,WAAA,EAAapC,KAAA,QAAAqC,QAAA,UAAA5B,MAAAmB,EAAAU,SAAA,YAAAC,WAAA,yBAAkGC,MAAA,CAASC,KAAA,QAAAzC,KAAA,eAAAS,MAAA,QAAoDiC,SAAA,CAAWC,QAAAf,EAAAgB,GAAAhB,EAAAU,SAAAO,YAAA,SAAkDC,GAAA,CAAKC,OAAA,SAAAC,GAA0B,OAAApB,EAAAqB,KAAArB,EAAAU,SAAA,0BAAuDN,EAAA,KAAAJ,EAAAO,GAAA,OAAAP,EAAAO,GAAA,0BAAAH,EAAA,SAAAA,EAAA,SAAiFI,WAAA,EAAapC,KAAA,QAAAqC,QAAA,UAAA5B,MAAAmB,EAAAU,SAAA,YAAAC,WAAA,yBAAkGC,MAAA,CAASC,KAAA,QAAAzC,KAAA,eAAAS,MAAA,UAAsDiC,SAAA,CAAWC,QAAAf,EAAAgB,GAAAhB,EAAAU,SAAAO,YAAA,WAAoDC,GAAA,CAAKC,OAAA,SAAAC,GAA0B,OAAApB,EAAAqB,KAAArB,EAAAU,SAAA,4BAAyDN,EAAA,KAAAJ,EAAAO,GAAA,OAAAP,EAAAO,GAAA,8BAAAH,EAAA,UAA0EE,YAAA,sBAAAY,GAAA,CAAsCI,MAAA,SAAAF,GAAyB,OAAApB,EAAAU,SAAAa,iBAAoC,CAAAvB,EAAAO,GAAA,kBAAAH,EAAA,UAAwCE,YAAA,aAAAY,GAAA,CAA6BI,MAAA,SAAAF,GAAyB,OAAApB,EAAAU,SAAAc,SAA4B,CAAAxB,EAAAO,GAAA,WAAAH,EAAA,OAA8BqB,IAAA,SAAAnB,YAAA,gBACtyDoB,EAAA,2BCDAC,EAAA,WAIE,SAAAA,EAAYC,EAAYC,GACtB5B,KAAK2B,QAAUA,EACf3B,KAAK4B,SAAWA,EAEpB,OAAAF,EARA,GAWAG,EAAA,WAKE,SAAAA,EAAYC,QAAA,IAAAA,MAAA,KAJJ9B,KAAA+B,SAAW,EACX/B,KAAA8B,KAAO,EAIb9B,KAAK+B,SAAWD,EAChB9B,KAAKgC,MAAQ,IAAIC,MAAMH,GAAMI,KAAK,MAClClC,KAAK8B,KAAO,EAsEhB,OAnEED,EAAAnF,UAAAyF,QAAA,SAAQR,EAAYC,GAClB,IAAMI,EAAQhC,KAAKgC,MAEfhC,KAAK8B,OAASE,EAAM1F,OAAS,GAC/B0F,EAAMxF,KAAIS,MAAV+E,EAAc,IAAIC,MAAMjC,KAAK+B,UAAUG,KAAK,OAG9C,IAAME,EAAW,IAAIV,EAASC,EAASC,GAEvC5B,KAAK8B,OACL,IAAI1F,EAAI4D,KAAK8B,KACbE,EAAM5F,GAAKgG,EAGX,MAAO,EAAM,CACX,IAAMC,EAAUjG,EAAI,EAAK,EACzB,GAAIiG,EAAS,GAAKL,EAAMK,GAAQT,UAAYA,EAAU,MAEtDI,EAAM5F,GAAK4F,EAAMK,GACjBL,EAAMK,GAAUD,EAChBhG,EAAIiG,IAKRR,EAAAnF,UAAA4F,QAAA,WACE,GAAItC,KAAKuC,UAAW,OAAO,KAE3B,IAAMP,EAAQhC,KAAKgC,MAEbQ,EAAMR,EAAM,GACZS,EAAOT,EAAMhC,KAAK8B,MACxBE,EAAMhC,KAAK8B,MAAQ,KACnB9B,KAAK8B,OACLE,EAAM,GAAKS,EAGX,IAAIrG,EAAI,EACR,MAAO,EAAM,CACX,IAAMsG,EAAW,EAAJtG,EACPuG,EAAY,EAAJvG,EAAQ,EAElBwG,EAAWF,EACf,GAAIA,EAAO1C,KAAK8B,KAAM,MAItB,GAH4Bc,EAAnBD,EAAQ3C,KAAK8B,KAAiBY,EACvBV,EAAMW,GAAOf,SAAWI,EAAMU,GAAMd,SAAWe,EAAQD,EAEnEV,EAAM5F,GAAGwF,SAAWI,EAAMY,GAAUhB,SAAU,MAElDI,EAAM5F,GAAK4F,EAAMY,GACjBZ,EAAMY,GAAYH,EAClBrG,EAAIwG,EAGN,OAAOJ,EAAIb,SAEbE,EAAAnF,UAAAmG,MAAA,WACE,OAAI7C,KAAKuC,UAAkB,KAEpBvC,KAAKgC,MAAM,GAAGL,SAEvBE,EAAAnF,UAAA6F,QAAA,WACE,OAAqB,IAAdvC,KAAK8B,MAEdD,EAAAnF,UAAAoG,QAAA,WACE,OAAO9C,KAAK8B,MAEhBD,EA9EA,GCGO,SAASkB,EAAiBC,EAAcC,GAC7C,IAAMC,EAAQ,IAAIrB,EAEZsB,EAAyD,GAE/DD,EAAMf,QAAQ,CAAEiB,KAAMJ,EAAOK,KAAM,KAAMC,KAAM,GAAK,GAEpD,OAAQJ,EAAMX,UAAW,CACvB,IAAMgB,EAAOL,EAAMZ,UAEnB,IAAIa,EAAQI,EAAKH,KAAKI,IAAtB,CAIA,GAFAL,EAAQI,EAAKH,KAAKI,IAAM,CAAEC,SAAUF,EAAKF,KAAMC,KAAMC,EAAKD,MAEtDC,EAAKH,KAAKI,KAAOP,EAAIO,GAAI,MAE7B,IAAmB,IAAAE,EAAA,EAAAC,EAAAJ,EAAKH,KAAKQ,MAAVF,EAAAC,EAAArH,OAAAoH,IAAiB,CAA/B,IAAML,EAAIM,EAAAD,GACPJ,EAAOC,EAAKD,KAAOD,EAAKC,KAC9BJ,EAAMf,QAAQ,CAAEiB,KAAMC,EAAKQ,GAAIR,KAAIA,EAAEC,KAAIA,GAAIA,KAIjD,IAAKH,EAAQF,EAAIO,IAAK,OAAO,KAE7B,IAAMM,EAAO,GACTC,EAAWd,EACf,MAAOc,IAAaf,EAAO,CACzB,IAAMS,EAAWN,EAAQY,EAASP,IAAIC,SACtCK,EAAKtH,KAAKiH,GACVM,EAAWN,EAASO,KAGtB,OAAOF,EAAKG,UC5Cd,IAAAC,EAAA,WAME,SAAAA,EAAYC,EAAc5E,EAAW6E,EAA2BC,QAA3B,IAAAD,OAAA,QAA2B,IAAAC,MAAA,GAC9DrE,KAAKmE,KAAOA,EACZnE,KAAKT,EAAIA,EACTS,KAAKoE,SAAWA,EAChBpE,KAAKqE,MAAQA,EAEjB,OAAAH,EAZA,GAcAI,EAAA,WAIE,SAAAA,EAAYH,EAAc5E,GACxBS,KAAKmE,KAAOA,EACZnE,KAAKT,EAAIA,EAEb,OAAA+E,EARA,GAUAC,EAAA,oBAAAA,IACEvE,KAAAwE,WAA0B,GAC1BxE,KAAAyE,WAA0B,GAC5B,OAAAF,EAHA,GCZO,SAASG,EAASV,EAAcH,EAAYc,QAAA,IAAAA,OAAA,GACjD,IAAMC,EAAQ,CAAEC,EAAGhB,EAAGgB,EAAIb,EAAKa,EAAGC,EAAGjB,EAAGiB,EAAId,EAAKc,GAKjD,OAJIH,IACFC,EAAMC,EAAIE,KAAKJ,IAAIC,EAAMC,GACzBD,EAAME,EAAIC,KAAKJ,IAAIC,EAAME,IAEpBF,EAGF,SAASI,EAAYC,EAAYC,GACtC,OAAOD,EAAGJ,IAAMK,EAAGL,GAAKI,EAAGH,IAAMI,EAAGJ,EAG/B,SAASK,EAAYF,EAAYC,GACtC,IAAMN,EAAQF,EAASO,EAAIC,GAC3B,OAAOH,KAAKK,KAAKR,EAAMC,EAAID,EAAMC,EAAID,EAAME,EAAIF,EAAME,GAGhD,SAASO,EAAIC,EAAWC,GAC7B,OAAKA,EAGEF,EAAIE,EAAGD,EAAIC,GAFTD,EAKJ,SAASE,EAASC,EAAgBC,GACvC,IAAMrB,EAAQU,KAAKY,MAAMD,EAAQD,GAC7BG,EAAe,IAARvB,EAAeU,KAAKc,GAG/B,OAFAD,GAAO,GACHA,EAAM,IAAGA,GAAO,KACbA,EAIF,SAASE,EAAiBC,EAAiBC,GAChD,IAAMC,EAAa,CAAEpB,EAAGmB,EAAKd,GAAGL,EAAImB,EAAKf,GAAGJ,EAAGC,EAAGkB,EAAKd,GAAGJ,EAAIkB,EAAKf,GAAGH,GAChEoB,EAAa,CAAErB,EAAGmB,EAAKf,GAAGJ,EAAIkB,EAAOI,OAAOtB,EAAGC,EAAGkB,EAAKf,GAAGH,EAAIiB,EAAOI,OAAOrB,GAC9ES,EAAIU,EAAGpB,EAAIqB,EAAGrB,EAAIoB,EAAGnB,EAAIoB,EAAGpB,EAC1B7G,EAAI,GAAKgI,EAAGpB,EAAIoB,EAAGpB,EAAIoB,EAAGnB,EAAImB,EAAGnB,GACvCS,IAAM,EACN,IAAMrH,EAAI6G,KAAKK,KAAKG,EAAIA,EAAI,EAAItH,GAAKiI,EAAGrB,EAAIqB,EAAGrB,EAAIqB,EAAGpB,EAAIoB,EAAGpB,EAAIiB,EAAOK,OAASL,EAAOK,SACxF,GAAIC,MAAMnI,GAER,MAAO,GAET,IAAMoI,GAAMf,EAAIrH,GAAKD,EACfsI,GAAMhB,EAAIrH,GAAKD,EACfuI,EAAgB,CAAE3B,EAAG,EAAGC,EAAG,GAC3B2B,EAAgB,CAAE5B,EAAG,EAAGC,EAAG,GAC3B3H,EAAS,GAef,OAdImJ,GAAM,GAAKA,GAAM,IAEnBE,EAAM3B,EAAImB,EAAKf,GAAGJ,EAAIoB,EAAGpB,EAAIyB,EAC7BE,EAAM1B,EAAIkB,EAAKf,GAAGH,EAAImB,EAAGnB,EAAIwB,EAC7BnJ,EAAOX,KAAKgK,IAEVD,GAAM,GAAKA,GAAM,IAEnBE,EAAM5B,EAAImB,EAAKf,GAAGJ,EAAIoB,EAAGpB,EAAI0B,EAC7BE,EAAM3B,EAAIkB,EAAKf,GAAGH,EAAImB,EAAGnB,EAAIyB,EACzBE,EAAM5B,IAAM2B,EAAM3B,GAAK4B,EAAM3B,IAAM0B,EAAM1B,IAC3C3H,EAAOA,EAAOb,QAAUmK,IAGrBtJ,EC/CT,IAAAuJ,EAAA,WAIE,SAAAA,EAAYC,EAAyBC,QAAzB,IAAAD,OAAA,QAAyB,IAAAC,OAAA,GACnC5G,KAAK2G,OAASA,EACd3G,KAAK4G,QAAUA,EAEnB,OAAAF,EARA,GAcAG,GAJA,oBAAAC,MAAA,GAIA,WAME,SAAAD,EAAYE,EAAuBC,GAE/BhH,KAAKT,EADa,kBAATwH,EACA,CAAElC,EAAGkC,EAAMjC,EAAGkC,GAEdD,EAEX/G,KAAK4D,MAAQ,GAEjB,OAAAiD,EAdA,IA4BAI,EAAA,WAUE,SAAAC,EAAYC,QAAA,IAAAA,MAAA,IACV,IAAMC,EAA6B,CACjCC,eAAgB,IAChBC,YAAa,GACbC,WAAY,GAEZC,UAAW,IACXC,SAAU,KACVC,eAAgB,IAChBC,WAAY,GACZC,aAAc,GAEhB5H,KAAKmH,OAASU,EAAA,QAAKT,EAAkBD,GACrCnH,KAAK8H,OAuZT,OApZUZ,EAAAxK,UAAAoL,KAAR,WACE9H,KAAK+H,YAEL/H,KAAKgI,eAGCd,EAAAxK,UAAAqL,UAAR,iBACQZ,EAASnH,KAAKmH,OAGdc,EAAOjI,KAAKmH,OAAOI,WAAa,EAAI,GACpCW,EAAWnD,KAAKoD,MAAMF,GACtBG,EAAYrD,KAAKsD,KAAKJ,GAC5BjI,KAAKgD,MAAQ,CACXsF,MAAO,IAAIzB,EAAKoB,EAAMd,EAAOG,YAAcH,EAAOE,eAAiB,GACnE3E,KAAM,IAAImE,EAAKqB,EAAUf,EAAOG,aAChC3E,MAAO,IAAIkE,EAAKuB,EAAWjB,EAAOG,cAEpCtH,KAAKiD,IAAM,CACTqF,MAAO,IAAIzB,EAAKoB,GAAOd,EAAOE,gBAC9B3E,KAAM,IAAImE,EAAKqB,GAAW,GAC1BvF,MAAO,IAAIkE,EAAKuB,GAAY,IAG9BpI,KAAKuI,MAAQ,IAAItG,MAAMkF,EAAOI,YAC9B,IAAK,IAAI1C,EAAI,EAAGA,EAAIsC,EAAOI,WAAY1C,IAAK,CAC1C7E,KAAKuI,MAAM1D,GAAK,GAChB,IAAK,IAAIC,EAAI,EAAGA,EAAIqC,EAAOG,YAAaxC,IACtC9E,KAAKuI,MAAM1D,GAAGrI,KAAK,IAAIqK,EAAKhC,EAAGC,IAKnC9E,KAAKgD,MAAMsF,MAAM1E,MAAMpH,KAAK,CAC1BqH,GAAI7D,KAAKiD,IAAIqF,MAAM/I,EACnB+D,KAAMtD,KAAKgD,MAAMsF,MAAM/I,EAAEuF,EAAI9E,KAAKiD,IAAIqF,MAAM/I,EAAEuF,IAGhD9E,KAAKwI,mBAAmBxI,KAAKgD,OAAO,GACpChD,KAAKwI,mBAAmBxI,KAAKiD,KAAK,GAElC,IAAS4B,EAAI,EAAGA,EAAIsC,EAAOI,WAAY1C,IACrC,IAASC,EAAI,EAAGA,EAAIqC,EAAOG,YAAaxC,KACtCnB,EAAA3D,KAAKuI,MAAM1D,GAAGC,GAAGlB,OAAMpH,KAAIS,MAAA0G,EAAI3D,KAAKyI,WAAW5D,EAAGC,KAIhDoC,EAAAxK,UAAA+L,WAAR,SAAmB5D,EAAWC,GAI5B,IAHA,IAAMqC,EAASnH,KAAKmH,OAEdvD,EAAgB,GACbxH,EAAI,EAAGA,EAAI+K,EAAOI,WAAYnL,IACrC,IAAK,IAAIkB,EAAI,EAAGA,EAAI6J,EAAOG,YAAahK,IACtC,IAAIlB,IAAMyI,GAAKvH,IAAMwH,MACjBO,EAAIN,KAAKJ,IAAIvI,EAAIyI,GAAIE,KAAKJ,IAAIrH,EAAIwH,IAAM,GAA5C,CAEA,IAAMjB,EAAK,CAAEgB,EAAGzI,EAAG0I,EAAGxH,GACtBsG,EAAMpH,KAAK,CAAEqH,GAAEA,EAAEP,KAAM6B,EAAY,CAAEN,EAACA,EAAEC,EAACA,GAAIjB,KAGjD,OAAOD,GAGDsD,EAAAxK,UAAA8L,mBAAR,SAA2BE,EAAiBC,GAI1C,IAHA,IAAMxB,EAASnH,KAAKmH,OAEdmB,EAAQI,EAAKJ,MACVzD,EAAI,EAAGA,EAAIsC,EAAOI,WAAY1C,IACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIqC,EAAOG,YAAaxC,IAAK,CAC3C,IAAMF,EAAQF,EAAS4D,EAAM/I,EAAG,CAAEsF,EAACA,EAAEC,EAACA,IAAI,GAC1C,GAAIF,EAAMC,EAAID,EAAME,GAAK,GAAMqC,EAAOE,gBAAkBhC,EAAc,EAAVT,EAAMC,EAAiB,EAAVD,EAAME,IAAU,EACvF,GAAI6D,EAAS,CACX,IAAM9E,EAAK,CAAEgB,EAACA,EAAEC,EAACA,GACjBwD,EAAM1E,MAAMpH,KAAK,CAAEqH,GAAEA,EAAEP,KAAM6B,EAAYmD,EAAM/I,EAAGsE,UAElD7D,KAAKuI,MAAM1D,GAAGC,GAAGlB,MAAMpH,KAAK,CAAEqH,GAAIyE,EAAM/I,EAAG+D,KAAM6B,EAAYmD,EAAM/I,EAAG,CAAEsF,EAACA,EAAEC,EAACA,MAMpF,IAAM8D,EAAWzD,EAAYmD,EAAM/I,EAAGmJ,EAAKhG,KAAKnD,GAC5CoJ,GACFL,EAAM1E,MAAMpH,KAAK,CAAEqH,GAAI6E,EAAKhG,KAAKnD,EAAG+D,KAAMsF,IAC1CN,EAAM1E,MAAMpH,KAAK,CAAEqH,GAAI6E,EAAK/F,MAAMpD,EAAG+D,KAAMsF,IAE3CF,EAAKhG,KAAKkB,MAAMpH,KAAK,CAAEqH,GAAI,CAAEgB,EAAG6D,EAAKhG,KAAKnD,EAAEsF,EAAGC,EAAG4D,EAAKhG,KAAKnD,EAAEuF,EAAI,GAAKxB,KAAM,IAC7EoF,EAAK/F,MAAMiB,MAAMpH,KAAK,CAAEqH,GAAI,CAAEgB,EAAG6D,EAAK/F,MAAMpD,EAAEsF,EAAGC,EAAG4D,EAAK/F,MAAMpD,EAAEuF,EAAI,GAAKxB,KAAM,MAEhFtD,KAAKuI,MAAMG,EAAKhG,KAAKnD,EAAEsF,GAAG,GAAGjB,MAAMpH,KAAK,CAAEqH,GAAI,CAAEgB,EAAG6D,EAAKhG,KAAKnD,EAAEsF,EAAGC,GAAI,GAAKxB,KAAM,IACjFtD,KAAKuI,MAAMG,EAAK/F,MAAMpD,EAAEsF,GAAG,GAAGjB,MAAMpH,KAAK,CAAEqH,GAAI,CAAEgB,EAAG6D,EAAK/F,MAAMpD,EAAEsF,EAAGC,GAAI,GAAKxB,KAAM,IAEnFoF,EAAKhG,KAAKkB,MAAMpH,KAAK,CAAEqH,GAAIyE,EAAM/I,EAAG+D,KAAMsF,IAC1CF,EAAK/F,MAAMiB,MAAMpH,KAAK,CAAEqH,GAAIyE,EAAM/I,EAAG+D,KAAMsF,MAI/C1B,EAAAxK,UAAAmM,SAAA,SAAShE,EAAWC,EAAW6B,EAAiBC,GAC9C,QAD8C,IAAAA,OAAA,KAC1C/B,EAAI,GAAKA,GAAK7E,KAAKmH,OAAOI,WAAa,GAAKzC,EAAI,GAAKA,GAAK9E,KAAKmH,OAAOG,YAAc,GAAxF,CAEA,IAAK,IAAIlL,EAAIyI,EAAI,EAAGzI,GAAKyI,EAAI,EAAGzI,IAC9B,IAAK,IAAIkB,EAAIwH,EAAI,EAAGxH,GAAKwH,EAAI,EAAGxH,IAC9B0C,KAAK8I,kBAAkB1M,EAAGkB,GAG9B0C,KAAK+I,OAAOlE,GAAGC,GAAK,IAAI4B,EAAMC,EAAQC,KAExCM,EAAAxK,UAAAsM,YAAA,SAAYnE,EAAWC,GACrB,IAAK,IAAI1I,EAAIyI,EAAI,EAAGzI,GAAKyI,EAAGzI,IAC1B,IAAK,IAAIkB,EAAIwH,EAAI,EAAGxH,GAAKwH,EAAGxH,IAC1B0C,KAAK8I,kBAAkB1M,EAAGkB,IAIxB4J,EAAAxK,UAAAoM,kBAAR,SAA0BjE,EAAWC,GACnC,KAAID,EAAI,GAAKA,GAAK7E,KAAKmH,OAAOI,YAAczC,EAAI,GAAKA,EAAI9E,KAAKmH,OAAOG,aAArE,CAEA,IAAM2B,EAAQjJ,KAAK+I,OAAOlE,GAAGC,GACzBmE,IACFjJ,KAAK+I,OAAOlE,GAAGC,GAAK,QAIxBoC,EAAAxK,UAAA4E,YAAA,WACEtB,KAAKgI,eAECd,EAAAxK,UAAAsL,YAAR,WACE,IAAMb,EAASnH,KAAKmH,OAEpBnH,KAAK+I,OAAS,IAAI9G,MAAMkF,EAAOI,YAC/B,IAAK,IAAI1C,EAAI,EAAGA,EAAIsC,EAAOI,WAAY1C,IAAK,CAC1C,IAAMqE,EAAO,IAAIjH,MAAMkF,EAAOG,aAC9B4B,EAAKhH,KAAK,MACVlC,KAAK+I,OAAOlE,GAAKqE,IAIrBhC,EAAAxK,UAAAyM,aAAA,WACQ,IAAAxF,EAAA3D,KAAAoJ,aAAEC,EAAA1F,EAAA0F,UAAWC,EAAA3F,EAAA2F,QACbC,EAAexG,EAAiBsG,EAAWC,GACjD,OAAqB,OAAjBC,EAA8B,KAE3BvJ,KAAKwJ,eAAeD,IAGrBrC,EAAAxK,UAAA0M,WAAR,WAKE,IAJA,IAAMjC,EAASnH,KAAKmH,OAEdsC,EAAmB,GACnBC,EAAwB,GACrB7E,EAAI,EAAGA,EAAIsC,EAAOI,WAAY1C,IAAK,CAC1C6E,EAAM7E,GAAK,GACX,IAAK,IAAIC,EAAI,EAAGA,EAAIqC,EAAOG,YAAaxC,IACjC9E,KAAK2J,cAAc9E,EAAGC,KACzB4E,EAAM7E,GAAGC,GAAK,CACZtB,GAAQ,IAAJqB,EAAUC,EACdvF,EAAG,CAAEsF,EAACA,EAAEC,EAACA,GACTlB,MAAO,IAET6F,EAASjN,KAAKwD,KAAKuI,MAAM1D,GAAGC,KAclC,IAVA,IAAM8E,EAAY,CAChB5J,KAAKgD,MAAMsF,MACXtI,KAAKgD,MAAMN,KACX1C,KAAKgD,MAAML,MACX3C,KAAKiD,IAAIqF,MACTtI,KAAKiD,IAAIP,KACT1C,KAAKiD,IAAIN,OAGPa,GAAM,EACSE,EAAA,EAAAmG,EAAAD,EAAAlG,EAAAmG,EAAAvN,OAAAoH,IAAW,CAAzB,IAAMN,EAAIyG,EAAAnG,GACRgG,EAAMtG,EAAK7D,EAAEsF,KAAI6E,EAAMtG,EAAK7D,EAAEsF,GAAK,IAExC6E,EAAMtG,EAAK7D,EAAEsF,GAAGzB,EAAK7D,EAAEuF,GAAK,CAC1BtB,GAAIA,IACJjE,EAAG6D,EAAK7D,EACRqE,MAAO,IAGT6F,EAASjN,KAAK4G,GAGhB,IAAmB,IAAAO,EAAA,EAAAmG,EAAAL,EAAA9F,EAAAmG,EAAAxN,OAAAqH,IAAd,CAAMP,EAAI0G,EAAAnG,GACb,IADG,IACgBoG,EAAA,EAAA5J,EAAAiD,EAAKQ,MAALmG,EAAA5J,EAAA7D,OAAAyN,IAAY,CAA1B,IAAM1G,EAAIlD,EAAA4J,GACP/F,EAAO0F,EAAMtG,EAAK7D,EAAEsF,GAAGzB,EAAK7D,EAAEuF,GAC9BjB,EAAK6F,EAAMrG,EAAKQ,GAAGgB,GAAGxB,EAAKQ,GAAGiB,GAEhCjB,IAAO7D,KAAKgK,cAAc5G,EAAK7D,EAAG8D,IACpCW,EAAKJ,MAAMpH,KAAK,CAAEwH,KAAIA,EAAEH,GAAEA,EAAEP,KAAMD,EAAKC,QAK7C,MAAO,CACL+F,UAAWK,EAAM1J,KAAKgD,MAAMsF,MAAM/I,EAAEsF,GAAG7E,KAAKgD,MAAMsF,MAAM/I,EAAEuF,GAC1DwE,QAASI,EAAM1J,KAAKiD,IAAIqF,MAAM/I,EAAEsF,GAAG7E,KAAKiD,IAAIqF,MAAM/I,EAAEuF,KAIhDoC,EAAAxK,UAAAiN,cAAR,SAAsB9E,EAAWC,GAC/B,IAAK,IAAI1I,EAAI2I,KAAKkF,IAAI,EAAGpF,EAAI,GAAIzI,GAAKyI,EAAGzI,IACvC,IAAK,IAAIkB,EAAIyH,KAAKkF,IAAI,EAAGnF,EAAI,GAAIxH,GAAKwH,EAAGxH,IACvC,GAAI0C,KAAK+I,OAAO3M,GAAGkB,GAAI,OAAO,EAGlC,OAAO,GAED4J,EAAAxK,UAAAsN,cAAR,SAAsBzK,EAAW8D,GAU/B,IARA,IAAM6G,EAASnF,KAAKoD,MAAMpD,KAAKkF,IAAI,EAAGlF,KAAKoF,IAAI5K,EAAEsF,EAAGxB,EAAKQ,GAAGgB,GAAK,IAC3DuF,EAAOrF,KAAKsD,KAAKtD,KAAKoF,IAAInK,KAAKmH,OAAOI,WAAa,EAAGxC,KAAKkF,IAAI1K,EAAEsF,EAAGxB,EAAKQ,GAAGgB,KAC5EwF,EAAStF,KAAKkF,IAAI,EAAGlF,KAAKoF,IAAI5K,EAAEuF,EAAGzB,EAAKQ,GAAGiB,GAAK,GAChDwF,EAAOvF,KAAKoF,IAAInK,KAAKmH,OAAOG,YAAc,EAAGvC,KAAKkF,IAAI1K,EAAEuF,EAAGzB,EAAKQ,GAAGiB,IAEnEyF,EAASxF,KAAKoD,MAAM5I,EAAEsF,GACtB2F,EAAUzF,KAAKsD,KAAK9I,EAAEsF,GAEnBzI,EAAI8N,EAAQ9N,GAAKgO,EAAMhO,IAC9B,IAAK,IAAIkB,EAAI+M,EAAQ/M,GAAKgN,EAAMhN,IAAK,CACnC,IAAM2L,EAAQjJ,KAAK+I,OAAO3M,GAAGkB,GAC7B,GAAI2L,EAAO,CACT,IAAMrE,EAAQF,EAASnF,EAAG8D,EAAKQ,IAG/B,GAAgB,IAAZe,EAAMC,GAAWzI,GAAKmO,EAAS,GAAKnO,GAAKoO,EAAS,OAAO,EAC7D,GAAgB,IAAZ5F,EAAME,GAAWxH,GAAKiC,EAAEuF,EAAI,GAAKxH,GAAKiC,EAAEuF,EAAG,OAAO,EAGtD,IAAMT,EAAQO,EAAME,EAAIF,EAAMC,EACxB4F,EAAgCpG,EAAQ,EAC1CqG,OAAe,EACfC,OAAe,EACfF,GACFC,EAAkB,CAAE7F,EAAGzI,EAAI,EAAG0I,EAAGxH,EAAI,GACrCqN,EAAkB,CAAE9F,EAAGzI,EAAI,EAAG0I,EAAGxH,EAAI,KAErCoN,EAAkB,CAAE7F,EAAGzI,EAAI,EAAG0I,EAAGxH,EAAI,GACrCqN,EAAkB,CAAE9F,EAAGzI,EAAI,EAAG0I,EAAGxH,EAAI,IAGvC,IAAIsN,GAAYF,EAAgB5F,EAAIvF,EAAEuF,IAAM4F,EAAgB7F,EAAItF,EAAEsF,GAC9DgG,GAAYF,EAAgB7F,EAAIvF,EAAEuF,IAAM6F,EAAgB9F,EAAItF,EAAEsF,GAG9D4F,GACEG,GAAY,IAAGA,EAAW,KAC1BC,GAAY,IAAGA,EAAW,OAE1BD,EAAW,IAAGA,GAAY,KAC1BC,EAAW,IAAGA,GAAY,MAGhC,IAAMC,EAAgBF,GAAYvG,GAASwG,GAAYxG,GAAWuG,GAAYvG,GAASwG,GAAYxG,EACnG,IAAKyG,EAAc,OAAO,GAKhC,OAAO,GAGD5D,EAAAxK,UAAA8M,eAAR,SAAuB1F,GAAvB,IAAAiH,EAAA/K,KACQmH,EAASnH,KAAKmH,OACdhK,EAAS,IAAIoH,EACb8E,EAAYvF,EAAK,GAAGE,KAEtB2D,EAAa,EACbqD,GAAe,EACbC,EAAajL,KAAKkL,gBAAgBC,IAAI,SAAAtM,GAAK,OAAGU,EAAGV,EAAGuM,eAAgB,KAgH1E,OA9GAjO,EAAOqH,WAAWhI,KAAK,IAAI0H,EAAU,EAAGmF,EAAU9J,IAElDuE,EAAKuH,QAAQ,SAAAhI,oBAET,IAAMQ,EAAKR,EAAKQ,GACVG,EAAOX,EAAKW,KACZsH,EAAanO,EAAOqH,WAAW7E,OAAO,GAAG,GAEzCiF,EAAQF,EAASV,EAAKzE,EAAGsE,EAAGtE,GAC5B8E,EAAQmB,EAASZ,EAAMC,EAAGD,EAAME,GAEhCyG,EAAKpE,EAAOK,UAAYG,EACxBF,EAAWN,EAAOM,SAAWE,EAE7B6D,EAAa,IAAI3J,EAIpB,IAEG4J,EAAYH,EAAWjH,QAAUA,EAGvC,GAAIoH,EAAW,CACb,IAAMC,GAAcrH,EAAQiH,EAAWjH,OAAS,IAC1CF,EAAOY,KAAKJ,IAAI+G,GAAcjE,EAAW6D,EAAWnH,KAC1DqH,EAAWrJ,QAAQ,CAAEgC,KAAIA,EAAEvD,KAAM,QAAUuD,OAGxC,CACH,IAAMb,EAAO6B,EAAYmG,EAAW/L,EAAGsE,EAAGtE,GACpC4E,EAAOb,EAAOiI,EAAKD,EAAWnH,KACpCqH,EAAWrJ,QAAQ,CAAEgC,KAAIA,EAAEvD,KAAM,QAAUuD,GAI7C8G,EAAWI,QAAQ,SAAApC,GACjB,IAAM0C,EAAmB1C,EAAMmC,cAC/B,GAAIO,GAAoBL,EAAWnH,KACjCqH,EAAWrJ,QAAQ,CAAEgC,KAAMwH,EAAkB/K,KAAM,UAAWqI,MAAKA,GAAI0C,OAClE,CACL,IAAMC,EAAcb,EAAKc,eAAe5C,EAAM1J,GAC9C,GAAI4F,EAAYmG,EAAW/L,EAAGqM,EAAYzF,SAAWgB,EAAOO,eAC1D8D,EAAWrJ,QAAQ,CAAEgC,KAAMmH,EAAWnH,KAAMvD,KAAM,YAAaqI,MAAKA,GAAIqC,EAAWnH,UAC9E,CACL,IAAM6B,EAAc,CAAEf,GAAIqG,EAAW/L,EAAG2F,GAAIrB,EAAGtE,GACzCuM,EAAgBhG,EAAiB8F,EAAa5F,GAEpD,GAAI8F,EAAcxP,OAAQ,CACxB,IAAMyP,EAAmB5G,EAAYmG,EAAW/L,EAAGuM,EAAc,IAC3DE,EAAmBD,EAAmBR,EAAKD,EAAWnH,KAC5DqH,EAAWrJ,QAAQ,CAAEgC,KAAM6H,EAAkBpL,KAAM,YAAaqI,MAAKA,GAAI+C,QAM7EhB,GAAeM,EAAWnH,MAC5BqH,EAAWrJ,QAAQ,CAAEgC,KAAM6G,EAAapK,KAAM,WAAaoK,GAG7D,IAAMiB,EAAgBT,EAAW3I,QAC3BqJ,EAAWD,EAAc9H,KACzBgI,EAAYD,EAAWZ,EAAWnH,KACpCC,EAAWkH,EAAWlH,SAmB1B,GAjB2B,cAAvB6H,EAAcrL,MAChBwD,GAAW,EACXuD,EAAaR,EAAOQ,WACpBqD,EAAckB,EAAW/E,EAAOS,aAEhCqE,EAAchD,MAAMmC,cAAgBc,EAAW/E,EAAOS,aACtDzK,EAAOsH,WAAWjI,KAAK,IAAI8H,EAAU4H,EAAUD,EAAchD,MAAM1J,KACnC,YAAvB0M,EAAcrL,OACnBqL,EAAchD,MAChBgD,EAAchD,MAAMmC,eAAiB,GAErChH,GAAW,EACXuD,EAAa,EACbqD,GAAe,IAIfM,EAAWjH,QAAUA,EACvB,GAA2B,SAAvB4H,EAAcrL,KAChBzD,EAAOqH,WAAWhI,KAAK,IAAI0H,EAAU+H,EAAc9H,KAAMmH,EAAW/L,EAAG6E,EAAUC,QAC5E,CACCqH,EAAarH,EAAQiH,EAAWjH,MAAtC,IACM+H,EAAWV,EAAa,KAAQA,EAAa,GAAKA,GAAc,KAAQ,EAAI,EAC5EW,GAAYf,EAAWjH,MAAQ8H,EAAY1E,EAAW2E,EAAW,KAAO,IAE9EjP,EAAOqH,WAAWhI,KAAK,IAAI0H,EAAU+H,EAAc9H,KAAMmH,EAAW/L,EAAG6E,EAAUiI,SAGnF,GAA2B,SAAvBJ,EAAcrL,KAChBzD,EAAOqH,WAAWhI,KAAK,IAAI0H,EAAU+H,EAAc9H,KAAMN,EAAGtE,EAAG6E,EAAUkH,EAAWjH,YAC/E,CACL,IAAMiI,EAAW5H,EAAS4G,EAAW/L,EAAGsE,EAAGtE,GACrCgN,EAAYpH,EAAYmG,EAAW/L,EAAGsE,EAAGtE,GAEzCiN,EAAW,CACf3H,EAAGyG,EAAW/L,EAAEsF,EAAKyH,EAASzH,EAAI0H,EAAaJ,EAAYZ,EAC3DzG,EAAGwG,EAAW/L,EAAEuF,EAAKwH,EAASxH,EAAIyH,EAAaJ,EAAYZ,GAE7DpO,EAAOqH,WAAWhI,KAAK,IAAI0H,EAAU+H,EAAc9H,KAAMqI,EAAUpI,EAAUkH,EAAWjH,UArG9F,OAAQW,EAAY7H,EAAOqH,WAAW7E,OAAO,GAAG,GAAGJ,EAAI8D,EAAKQ,GAAkBtE,SA2GzEpC,GAGD+J,EAAAxK,UAAAwO,cAAR,WAIE,IAHA,IAAM/D,EAASnH,KAAKmH,OACd4B,EAAS/I,KAAK+I,OACdkC,EAAuB,GACpBpG,EAAI,EAAGA,EAAIsC,EAAOI,WAAY1C,IACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIqC,EAAOG,YAAaxC,IAAK,CAC3C,IAAMmE,EAAQF,EAAOlE,GAAGC,GACpBmE,GAASA,EAAMtC,QACjBsE,EAAWzO,KAAK,CAAEqI,EAACA,EAAEC,EAACA,IAI5B,OAAOmG,GAGD/D,EAAAxK,UAAAmP,eAAR,SAAuB5C,GACrB,MAAO,CAAE9C,OAAQ,CAAEtB,EAAGoE,EAAMpE,EAAI,GAAKC,EAAGmE,EAAMnE,GAAKsB,OAAQpG,KAAKmH,OAAOO,iBAE3ER,EA9aA,eClEMuF,EAAc,GACdC,EAAe,GACfC,EAAW,GACXC,EAAY,QACZC,EAAgB,SAChBC,EAAgB,EAOtBC,EAAA,WASE,SAAAC,EAAYC,GAPZjN,KAAAgB,YAA2B,QAEnBhB,KAAApC,IAAwB,KACxBoC,KAAAkN,MAAuB,KAEvBlN,KAAA+I,OAA4B,GAGlC/I,KAAKiN,OAASA,EAkMlB,OA/LED,EAAAtQ,UAAAyQ,WAAA,SAAWC,GACT,IAAMjG,EAASnH,KAAKiN,OAAO9F,OAErBkG,EAAQlG,EAAOI,WAAaoF,EAAW,EAAIF,EAC3Ca,GAAUnG,EAAOG,YAAsC,EAAxBH,EAAOE,gBAAsBsF,EAAW,EAAID,EACjF1M,KAAKpC,IAAM,IAAI2P,EAAA,KAAiB,CAAEF,MAAKA,EAAEC,OAAMA,IAC/CtN,KAAKpC,IAAI4P,SAASC,gBAAkB,QAEpCL,EAAGM,YAAY1N,KAAKpC,IAAI+P,MAExB3N,KAAKkN,MAAQ,IAAIU,EAAc5N,KAAKpC,KACpCoC,KAAK6N,cAGCb,EAAAtQ,UAAAmR,WAAR,eAAA9C,EAAA/K,KACQmH,EAASnH,KAAKiN,OAAO9F,OAErB2G,EAAY,EAAInB,EAChBoB,EAAa5G,EAAOE,eAAiBsF,EACrCqB,EAAahO,KAAKiO,UAAU9G,EAAOI,WAAa,EAAI,GACpD2G,EAAOlO,KAAKmO,UAAU,CAAEtJ,EAAGmJ,EAAYlJ,EAAG4H,GAAgBoB,EAAWC,GACrEK,EAAWpO,KAAKmO,UAAU,CAAEtJ,EAAGmJ,EAAYlJ,EAAG9E,KAAKqO,UAAUlH,EAAOG,cAAgBwG,EAAWC,GACrG/N,KAAKpC,IAAI0Q,MAAMC,SAASL,EAAME,GAE9B,mBAASvJ,GACP2J,EAAKzF,OAAOvM,KAAK,IAEjB,mBAASsI,GACP,IAAM2J,EAASD,EAAKP,UAAUpJ,GACxB6J,EAASF,EAAKH,UAAUvJ,GAExB6J,EAAOH,EAAKI,UAAU,CAAE/J,EAAG4J,EAAQ3J,EAAG4J,IAC5CC,EAAKE,aAAc,EAEnBF,EAAKG,YAAY,QAAS,WAAM,OAAA/D,EAAKgE,YAAYlK,EAAGC,KAEpD0J,EAAK5Q,IAAI0Q,MAAMC,SAASI,GACxBH,EAAKzF,OAAOlE,GAAGrI,KAAK,OAVbsI,EAAI,EAAGA,EAAIqC,EAAOG,YAAaxC,MAA/BA,WAHFD,EAAI,EAAGA,EAAIsC,EAAOI,WAAY1C,MAA9BA,IAkBHmI,EAAAtQ,UAAAyR,UAAR,SAAkB5O,EAAW8N,EAAeC,GAC1C,IAAM5E,EAAO,IAAI6E,EAAA,KAKjB,OAJA7E,EAAKsG,UAAUlC,EAAeD,GAC9BnE,EAAKuG,UAAUrC,GACflE,EAAKwG,SAAS3P,EAAEsF,EAAGtF,EAAEuF,EAAGuI,EAAOC,GAC/B5E,EAAKyG,UACEzG,GAEDsE,EAAAtQ,UAAAkS,UAAR,SAAkBrP,GAChB,IAAMoP,EAAO,IAAIpB,EAAA,KAKjB,OAJAoB,EAAKK,UAAUlC,EAAeD,GAC9B8B,EAAKM,UAAUrC,GACf+B,EAAKO,SAAS3P,EAAEsF,EAAGtF,EAAEuF,EAAG6H,EAAUA,GAClCgC,EAAKQ,UACER,GAGT3B,EAAAtQ,UAAA4E,YAAA,WACEtB,KAAKiN,OAAO3L,cACZtB,KAAKoP,gBAEPpC,EAAAtQ,UAAA6E,IAAA,eAAAwJ,EAAA/K,KACQmH,EAASnH,KAAKiN,OAAO9F,OAErBhK,EAAS6C,KAAKiN,OAAO9D,eAC3B,GAAe,OAAXhM,EAAJ,CAIQ,IAAAqH,EAAArH,EAAAqH,WAAYC,EAAAtH,EAAAsH,WAEd4K,EAAQ,IAAIC,EAActP,KAAKpC,KACrCyR,EAAMxK,EAAI7E,KAAKiO,UAAUzJ,EAAW,GAAGjF,EAAEsF,GACzCwK,EAAMvK,EAAI9E,KAAKqO,UAAU7J,EAAW,GAAGjF,EAAEuF,GAEzC,IAAMyK,EAAiB9K,EAAW+K,OAAkC,SAACC,EAAYC,GAC/E,IAAMxQ,EAAkB,IAAZwQ,EAAMnQ,EAAEsF,EAAU6K,EAAMnQ,EAAEuF,EAOtC,OANK2K,EAAWvQ,KACduQ,EAAWvQ,GAAO,IAAIyQ,EAAc5E,EAAKnN,IAAKuJ,EAAQ,CACpDtC,EAAGkG,EAAKkD,UAAUyB,EAAMnQ,EAAEsF,GAC1BC,EAAGiG,EAAKsD,UAAUqB,EAAMnQ,EAAEuF,MAE9B2K,EAAWvQ,GAAK0Q,cAAcpT,KAAKkT,EAAMvL,MAClCsL,GACN,IAECI,EAAe,EACfC,EAAoB,KAElBC,EAAO,SAAC5L,GACM,OAAd2L,IAAoBA,EAAY3L,GAEpC,IAAM6L,GAAgB7L,EAAO2L,GAAa,IAE1C,MAAOE,GAAgBxL,EAAWqL,EAAe,GAAG1L,KAAM,CACxD,IAAM8L,EAAgBzL,EAAWqL,EAAe,GAQhD,GAPAR,EAAMxK,EAAIkG,EAAKkD,UAAUgC,EAAc1Q,EAAEsF,GACzCwK,EAAMvK,EAAIiG,EAAKsD,UAAU4B,EAAc1Q,EAAEuF,GACzCuK,EAAMhL,MAAQ4L,EAAc5L,MAE5BwL,IAGIA,GAAgBrL,EAAWlI,OAAS,EAItC,OAHAyO,EAAKmC,MAAMgD,KAAO1L,EAAWqL,GAAc1L,KAAKgM,QAAQ,GACxDd,EAAMe,cACN3T,OAAO4T,OAAOd,GAAgBlE,QAAQ,SAAA/F,GAAK,OAAAA,EAAE8K,WAKjDrF,EAAKmC,MAAMgD,KAAOF,EAAaG,QAAQ,GAEvC,IAAMG,EAAW9L,EAAWqL,GACtBU,EAAY/L,EAAWqL,EAAe,GACtC1D,GAAa6D,EAAeM,EAASnM,OAASoM,EAAUpM,KAAOmM,EAASnM,MAM9E,GAJA1H,OAAO4T,OAAOd,GAAgBlE,QAAQ,SAAA/F,GAAK,OAAAA,EAAEkL,OAAOR,KAEpDX,EAAMoB,OAASH,EAASlM,SAEpBkM,EAASjM,QAAUkM,EAAUlM,MAAO,CACtC,IAAIqM,EAAcH,EAAUlM,MAAQiM,EAASjM,MACzCqM,EAAc,MAAKA,GAAe,KAClCA,GAAe,MAAKA,GAAe,KAEvC,IAAMhF,EAAaS,EAAYuE,EAC/BrB,EAAMhL,OAASiM,EAASjM,MAAQqH,EAAa,KAAO,QAC/C,CACL,IAAMjG,EAAS0G,GAAaoE,EAAUhR,EAAEsF,EAAIyL,EAAS/Q,EAAEsF,GACjDa,EAASyG,GAAaoE,EAAUhR,EAAEuF,EAAIwL,EAAS/Q,EAAEuF,GAEvDuK,EAAMxK,EAAIkG,EAAKkD,UAAUqC,EAAS/Q,EAAEsF,EAAIY,GACxC4J,EAAMvK,EAAIiG,EAAKsD,UAAUiC,EAAS/Q,EAAEuF,EAAIY,GAG1CiL,sBAAsBZ,IAGxBa,WAAW,WACTD,sBAAsBZ,IACrB,SA3EDtQ,OAAOoR,MAAM,YA8ET7D,EAAAtQ,UAAAqS,YAAR,SAAoBlK,EAAWC,GACJ,WAArB9E,KAAKgB,YACPhB,KAAKiN,OAAOjE,YAAYnE,EAAGC,GAE3B9E,KAAKiN,OAAOpE,SAAShE,EAAGC,EAAwB,SAArB9E,KAAKgB,aAElChB,KAAKoP,gBAECpC,EAAAtQ,UAAA0S,aAAR,WACcpP,KAAKpC,IAMjB,IANA,IAEMuJ,EAASnH,KAAKiN,OAAO9F,OACrB2J,EAAe9Q,KAAKiN,OAAOlE,OAC3BA,EAAS/I,KAAK+I,OAEXlE,EAAI,EAAGA,EAAIsC,EAAOI,WAAY1C,IACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIqC,EAAOG,YAAaxC,IAAK,CAC3C,IAAMmE,EAAQF,EAAOlE,GAAGC,GAClBiM,EAAcD,EAAajM,GAAGC,GAEhCiM,EACG9H,GAASA,EAAMtC,SAAWoK,EAAYpK,QAAUsC,EAAMrC,UAAYmK,EAAYnK,UAC7EqC,GAAOA,EAAMmH,SAEjBrH,EAAOlE,GAAGC,GAAK,IAAIkM,EACjBhR,KAAKpC,IACL,CAAEiH,EAAG7E,KAAKiO,UAAUpJ,GAAIC,EAAG9E,KAAKqO,UAAUvJ,IAC1CiM,EAAYpK,OACZoK,EAAYnK,UAGPqC,IACTA,EAAMmH,SACNrH,EAAOlE,GAAGC,GAAK,QAMfkI,EAAAtQ,UAAAuR,UAAR,SAAkBpJ,GAChB,OAAOA,EAAI8H,EAAWF,GAEhBO,EAAAtQ,UAAA2R,UAAR,SAAkBvJ,GAChB,OAAQA,EAAI9E,KAAKiN,OAAO9F,OAAOE,gBAAkBsF,EAAWD,GAEhEM,EA5MA,GA8MAY,EAAA,WAIE,SAAAqD,EAAYrT,GACVoC,KAAKpC,IAAMA,EAEXoC,KAAKkN,MAAQ,IAAIK,EAAA,KAAU,QAAS,CAAE2D,KAAM,mBAAoBhP,KAAM,IACtElC,KAAKkN,MAAMiE,OAAOtM,EAAI,EACtB7E,KAAKkN,MAAMrI,EAAI7E,KAAKpC,IAAI4P,SAASH,MAAQV,EACzC3M,KAAKkN,MAAMpI,EAAI6H,EACf/O,EAAI0Q,MAAMC,SAASvO,KAAKkN,OAU5B,OAPEzQ,OAAA6B,eAAI2S,EAAAvU,UAAA,OAAI,KAAR,SAAS0U,GACPpR,KAAKkN,MAAMgD,KAAOkB,mCAGpBH,EAAAvU,UAAA0T,OAAA,WACEpQ,KAAKpC,IAAI0Q,MAAM+C,YAAYrR,KAAKkN,QAEpC+D,EArBA,GAuBAD,EAAA,SAAAM,GAME,SAAAC,EAAY3T,EAAuB2B,EAAWoH,EAAiBC,GAA/D,IAAAmE,EACEuG,EAAA1U,KAAAoD,KAAM2G,EAAQC,IAAQ5G,KANP+K,EAAAjJ,KAAkB,EAAX6K,EACP5B,EAAAyG,UAAY7E,EAAW,EAOtC5B,EAAKnN,IAAMA,EAEX,IAAMqL,EAAQ,IAAIsE,EAAA,KAClBtE,EAAM+F,UAAUlC,EAAeD,GAC/B,IAAM4E,EAAQ7K,EAAU,SAAW,eACnCqC,EAAMgG,UAAUwC,GAChBxI,EAAMiG,SAAS3P,EAAEsF,EAAGtF,EAAEuF,EAAGiG,EAAKjJ,KAAMiJ,EAAKjJ,MACzCmH,EAAMkG,UAEFxI,IACFsC,EAAM+F,UAAU,GAChB/F,EAAMgG,UAAU,UAChBhG,EAAMyI,WAAWnS,EAAEsF,EAAIkG,EAAKjJ,KAAO,EAAGvC,EAAEuF,EAAIiG,EAAKjJ,KAAO,EAAGiJ,EAAKyG,WAChEvI,EAAMkG,WAGRpE,EAAKtK,SAAWwI,EAChBrL,EAAI0Q,MAAMC,SAAStF,KAMvB,OAhC4BpB,EAAA,KAAA0J,EAAAD,GA6B1BC,EAAA7U,UAAA0T,OAAA,WACEpQ,KAAKpC,IAAI0Q,MAAM+C,YAAYrR,KAAKS,WAEpC8Q,EAhCA,CAA4B7K,GAkC5B4I,EAAA,WAKE,SAAAqC,EAAY/T,GAJKoC,KAAAoG,OAASuG,EAAW,EAKnC3M,KAAKqP,MAAQ,IAAI9B,EAAA,KACjBvN,KAAKqP,MAAMJ,UAAU,OACrBjP,KAAKqP,MAAMqC,WAAW,EAAG,EAAG1R,KAAKoG,QACjCpG,KAAKqP,MAAMF,UACXnP,KAAKqP,MAAMJ,UAAU,UACrBjP,KAAKqP,MAAMqC,WAAW,EAAkB,EAAd1R,KAAKoG,OAAY,GAC3CpG,KAAKqP,MAAMF,UAEXnP,KAAKpC,IAAMA,EACXA,EAAI0Q,MAAMC,SAASvO,KAAKqP,OAoB5B,OAjBE5S,OAAA6B,eAAIqT,EAAAjV,UAAA,IAAC,KAAL,SAAM0U,GACJpR,KAAKqP,MAAMxK,EAAIuM,EAAMpR,KAAKoG,wCAE5B3J,OAAA6B,eAAIqT,EAAAjV,UAAA,IAAC,KAAL,SAAM0U,GACJpR,KAAKqP,MAAMvK,EAAIsM,EAAMpR,KAAKoG,wCAE5B3J,OAAA6B,eAAIqT,EAAAjV,UAAA,QAAK,KAAT,SAAU0U,GACRpR,KAAKqP,MAAMhL,MAAQ+M,mCAGrB3U,OAAA6B,eAAIqT,EAAAjV,UAAA,SAAM,KAAV,SAAW0U,GACTpR,KAAKqP,MAAMuC,KAAOR,EAAM,SAAW,0CAGrCO,EAAAjV,UAAA0T,OAAA,WACEpQ,KAAKpC,IAAI0Q,MAAM+C,YAAYrR,KAAKqP,QAEpCsC,EAnCA,GAqCAhC,EAAA,WAYE,SAAAkC,EAAYjU,EAAuBuJ,EAAqB5H,GAXvCS,KAAAoG,OAASuG,EACT3M,KAAA8R,SAAW,IAIpB9R,KAAAS,SAA0B,KAE1BT,KAAA+R,aAAc,EAEtB/R,KAAA4P,cAA0B,GAGxB5P,KAAKmH,OAASA,EACdnH,KAAKpC,IAAMA,EAEXoC,KAAKS,SAAW,IAAI8M,EAAA,KACpBvN,KAAKS,SAASuO,UAAU,EAAG,UAC3BhP,KAAKS,SAASwO,UAAU,EAAU,GAClCjP,KAAKS,SAASiR,WAAW,EAAG,EAAG1R,KAAKoG,QACpCpG,KAAKS,SAAS0O,UAEdnP,KAAKS,SAASoE,EAAItF,EAAEsF,EAAI7E,KAAKoG,OAC7BpG,KAAKS,SAASqE,EAAIvF,EAAEuF,EAAI9E,KAAKoG,OA0BjC,OAvBEyL,EAAAnV,UAAA8T,OAAA,SAAOrM,GAAP,IAAA4G,EAAA/K,KACQgS,EAAmBhS,KAAK4P,cAAcqC,KAAK,SAAApT,GAAK,OAAAsF,GAAQtF,GAAKsF,EAAO4G,EAAK+G,UAAYjT,IAC3F,GAAImT,EAAkB,CACfhS,KAAK+R,cACR/R,KAAKpC,IAAI0Q,MAAMC,SAASvO,KAAKS,UAC7BT,KAAK+R,aAAc,GAGrB,IAAM5F,GAAahI,EAAOnE,KAAK8R,SAAWE,GAAoBhS,KAAK8R,SAEnE9R,KAAKS,SAASyR,MAAMrN,EAAI,EAAIsH,GAAanM,KAAKmH,OAAOO,eAAiB,KACtE1H,KAAKS,SAASyR,MAAMpN,EAAI,EAAIqH,GAAanM,KAAKmH,OAAOO,eAAiB,UAC7D1H,KAAK+R,cACd/R,KAAK+R,aAAc,EACnB/R,KAAKS,SAASyR,MAAMrN,EAAI,EACxB7E,KAAKS,SAASyR,MAAMpN,EAAI,EACxB9E,KAAKpC,IAAI0Q,MAAM+C,YAAYrR,KAAKS,YAIpCoR,EAAAnV,UAAA0T,OAAA,WACEpQ,KAAKpC,IAAI0Q,MAAM+C,YAAYrR,KAAKS,WAEpCoR,EAjDA,eC/TIM,EAAM,WAAgB,IAAApS,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBQ,MAAA,CAAO0M,MAAA,WAAAC,OAAA,WAAA8E,QAAA,sBAAsE,CAAAjS,EAAA,KAAUQ,MAAA,CAAO0R,UAAA,6BAAwC,CAAAlS,EAAA,KAAUQ,MAAA,CAAOuB,KAAA,UAAAoQ,OAAA,OAAAC,eAAA,MAAqD,CAAApS,EAAA,QAAaQ,MAAA,CAAOkE,EAAA,UAAAC,EAAA,UAAAuI,MAAA,SAAAC,OAAA,YAAgEnN,EAAA,QAAaQ,MAAA,CAAOkE,EAAA,UAAAC,EAAA,SAAAuI,MAAA,SAAAC,OAAA,YAA+DnN,EAAA,QAAaQ,MAAA,CAAOkE,EAAA,UAAAC,EAAA,UAAAuI,MAAA,SAAAC,OAAA,YAAgEnN,EAAA,QAAaQ,MAAA,CAAOkE,EAAA,UAAAC,EAAA,SAAAuI,MAAA,SAAAC,OAAA,cAA+DnN,EAAA,UAAiBQ,MAAA,CAAO6R,GAAA,UAAAC,GAAA,UAAAhU,EAAA,SAAAyD,KAAA,UAA0D/B,EAAA,UAAeQ,MAAA,CAAO6R,GAAA,SAAAC,GAAA,UAAAhU,EAAA,SAAAyD,KAAA,UAAyD/B,EAAA,QAAaQ,MAAA,CAAOkE,EAAA,UAAAC,EAAA,SAAAuI,MAAA,SAAAC,OAAA,SAAApL,KAAA,OAAAoQ,OAAA,OAAAC,eAAA,iBACrzBG,EAAe,eCAnBC,EAAA,GAKAC,EAAgBnW,OAAAoW,EAAA,KAAApW,CAChBkW,EACER,EACAO,GACF,EACA,KACA,KACA,MAIeI,EAAAF,UCRfG,EAAA,SAAAzB,GAHA,SAAA0B,IAAA,IAAAjI,EAAA,OAAAuG,KAAArU,MAAA+C,KAAAiT,YAAAjT,YAKE+K,EAAAtK,SAAyB,OAsB3B,OAxBiCoH,EAAA,KAAAmL,EAAA1B,GAI/B0B,EAAAtW,UAAAwW,QAAA,WACElT,KAAKiN,OAAS,IAAIhG,EAClBjH,KAAKS,SAAW,IAAIsM,EAAa/M,KAAKiN,SAExC+F,EAAAtW,UAAAyW,QAAA,WACEnT,KAAKS,SAAS0M,WAAWnN,KAAKoT,MAAMC,QACpCrT,KAAKsT,gBAGPN,EAAAtW,UAAA4W,aAAA,eAAAvI,EAAA/K,KACEP,OAAO8T,iBAAiB,UAAW,SAAAC,GAC7BA,EAAIC,QAAUC,EAAA,OAAIC,EACpB5I,EAAKtK,SAASO,YAAc,QACnBwS,EAAIC,QAAUC,EAAA,OAAIE,EAC3B7I,EAAKtK,SAASO,YAAc,OACnBwS,EAAIC,QAAUC,EAAA,OAAIG,IAC3B9I,EAAKtK,SAASO,YAAc,aApBfgS,EAAGnL,EAAA,MAHvBpL,OAAAqX,EAAA,KAAArX,CAAU,CACTsX,WAAY,CAAEjB,KAAIA,MAECE,GAwBrBA,EAxBA,CAAiCc,EAAA,MAAZE,EAAA,ECTiMC,EAAA,ECQlNC,aAAYzX,OAAAoW,EAAA,KAAApW,CACdwX,EACAnU,EACA2B,GACF,EACA,KACA,KACA,OAIe0S,EAAAD,sBCdbzX,OAAA2X,EAAA,KAAA3X,CAAY,4BAAyC,CACnD4X,MAAK,WACHC,QAAQC,IACN,uGAGJC,WAAU,WACRF,QAAQC,IAAI,wCAEdE,OAAM,WACJH,QAAQC,IAAI,6CAEdG,YAAW,WACTJ,QAAQC,IAAI,gCAEdI,QAAO,WACLL,QAAQC,IAAI,8CAEdK,QAAO,WACLN,QAAQC,IAAI,kEAEdM,MAAK,SAACA,GACJP,QAAQO,MAAM,4CAA6CA,oCClBjEC,EAAA,KAAI3N,OAAO4N,eAAgB,EAE3B,IAAID,EAAA,KAAI,CACNhV,OAAQ,SAAAkV,GAAK,OAAAA,EAAEb,MACdc,OAAO","file":"js/app.1ba2260b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/mazing/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app\"},[_c('header',{staticClass:\"header\"},[_c('Logo',{staticClass:\"logo\"}),_c('h1',{staticClass:\"page-title\"},[_vm._v(\"Mazing Contest\")])],1),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"actions\"},[_c('div',{staticClass:\"tower-actions\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.graphics.towerAction),expression:\"graphics.towerAction\"}],attrs:{\"type\":\"radio\",\"name\":\"tower-action\",\"value\":\"tower\"},domProps:{\"checked\":_vm._q(_vm.graphics.towerAction,\"tower\")},on:{\"change\":function($event){return _vm.$set(_vm.graphics, \"towerAction\", \"tower\")}}}),_c('u',[_vm._v(\"T\")]),_vm._v(\"ower\")]),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.graphics.towerAction),expression:\"graphics.towerAction\"}],attrs:{\"type\":\"radio\",\"name\":\"tower-action\",\"value\":\"slow\"},domProps:{\"checked\":_vm._q(_vm.graphics.towerAction,\"slow\")},on:{\"change\":function($event){return _vm.$set(_vm.graphics, \"towerAction\", \"slow\")}}}),_c('u',[_vm._v(\"S\")]),_vm._v(\"low\\n          Tower\")]),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.graphics.towerAction),expression:\"graphics.towerAction\"}],attrs:{\"type\":\"radio\",\"name\":\"tower-action\",\"value\":\"delete\"},domProps:{\"checked\":_vm._q(_vm.graphics.towerAction,\"delete\")},on:{\"change\":function($event){return _vm.$set(_vm.graphics, \"towerAction\", \"delete\")}}}),_c('u',[_vm._v(\"D\")]),_vm._v(\"elete\\n          Tower\")])]),_c('button',{staticClass:\"clear-towers-button\",on:{\"click\":function($event){return _vm.graphics.clearTowers()}}},[_vm._v(\"Clear Towers\")]),_c('button',{staticClass:\"run-button\",on:{\"click\":function($event){return _vm.graphics.run()}}},[_vm._v(\"Run\")])]),_c('div',{ref:\"canvas\",staticClass:\"canvas\"})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export class QElement<T> {\r\n  element: T;\r\n  priority: number;\r\n\r\n  constructor(element: T, priority: number) {\r\n    this.element = element;\r\n    this.priority = priority;\r\n  }\r\n}\r\n\r\n// bad implementation, buuut whatever\r\nexport class PriorityQueue<T> {\r\n  private initSize = 0;\r\n  private size = 0;\r\n  private items: Array<QElement<T>>;\r\n\r\n  constructor(size = 100000) {\r\n    this.initSize = size;\r\n    this.items = new Array(size).fill(null);\r\n    this.size = 0;\r\n  }\r\n\r\n  enqueue(element: T, priority: number) {\r\n    const items = this.items;\r\n\r\n    if (this.size === items.length - 1) {\r\n      items.push(...new Array(this.initSize).fill(null));\r\n    }\r\n\r\n    const qElement = new QElement(element, priority);\r\n\r\n    this.size++;\r\n    let i = this.size;\r\n    items[i] = qElement;\r\n\r\n    // bubble up\r\n    while (true) {\r\n      const parent = (i / 2) | 0;\r\n      if (parent < 1 || items[parent].priority <= priority) break;\r\n\r\n      items[i] = items[parent];\r\n      items[parent] = qElement;\r\n      i = parent;\r\n    }\r\n\r\n    // this.checkQueue();\r\n  }\r\n  dequeue() {\r\n    if (this.isEmpty()) return null;\r\n\r\n    const items = this.items;\r\n\r\n    const top = items[1];\r\n    const last = items[this.size];\r\n    items[this.size] = null;\r\n    this.size--;\r\n    items[1] = last;\r\n\r\n    // bubble down\r\n    let i = 1;\r\n    while (true) {\r\n      const left = i * 2;\r\n      const right = i * 2 + 1;\r\n\r\n      let minChild = left;\r\n      if (left > this.size) break;\r\n      else if (right > this.size) minChild = left;\r\n      else minChild = items[right].priority < items[left].priority ? right : left;\r\n\r\n      if (items[i].priority < items[minChild].priority) break;\r\n\r\n      items[i] = items[minChild];\r\n      items[minChild] = last;\r\n      i = minChild;\r\n    }\r\n\r\n    return top.element;\r\n  }\r\n  front() {\r\n    if (this.isEmpty()) return null;\r\n\r\n    return this.items[1].element;\r\n  }\r\n  isEmpty() {\r\n    return this.size === 0;\r\n  }\r\n  getSize() {\r\n    return this.size;\r\n  }\r\n}\r\n","import { PriorityQueue } from \"@/utils/priority-queue\";\r\n\r\nexport type Dictionary<T> = { [key: number]: T };\r\n\r\nexport interface IEdge {\r\n  from: INode;\r\n  to: INode;\r\n  dist: number;\r\n}\r\nexport interface INode {\r\n  id: number;\r\n  edges: IEdge[];\r\n}\r\n\r\nexport function findShortestPath(start: INode, end: INode) {\r\n  const queue = new PriorityQueue<{ node: INode; edge: IEdge; dist: number }>();\r\n\r\n  const visited: Dictionary<{ fromEdge: IEdge; dist: number }> = {};\r\n\r\n  queue.enqueue({ node: start, edge: null, dist: 0 }, 0);\r\n\r\n  while (!queue.isEmpty()) {\r\n    const next = queue.dequeue();\r\n\r\n    if (visited[next.node.id]) continue;\r\n\r\n    visited[next.node.id] = { fromEdge: next.edge, dist: next.dist };\r\n\r\n    if (next.node.id === end.id) break;\r\n\r\n    for (const edge of next.node.edges) {\r\n      const dist = next.dist + edge.dist;\r\n      queue.enqueue({ node: edge.to, edge, dist }, dist);\r\n    }\r\n  }\r\n\r\n  if (!visited[end.id]) return null;\r\n\r\n  const path = [];\r\n  let nextNode = end;\r\n  while (nextNode !== start) {\r\n    const fromEdge = visited[nextNode.id].fromEdge;\r\n    path.push(fromEdge);\r\n    nextNode = fromEdge.from;\r\n  }\r\n\r\n  return path.reverse();\r\n}\r\n","import { IPoint } from \"@/utils/math\";\r\n\r\nexport class MoveEvent {\r\n  time: number;\r\n  p: IPoint;\r\n  isSlowed: boolean;\r\n  angle: number;\r\n\r\n  constructor(time: number, p: IPoint, isSlowed: boolean = false, angle: number = 0) {\r\n    this.time = time;\r\n    this.p = p;\r\n    this.isSlowed = isSlowed;\r\n    this.angle = angle;\r\n  }\r\n}\r\n\r\nexport class SlowEvent {\r\n  p: IPoint;\r\n  time: number;\r\n\r\n  constructor(time: number, p: IPoint) {\r\n    this.time = time;\r\n    this.p = p;\r\n  }\r\n}\r\n\r\nexport class RunResult {\r\n  moveEvents: MoveEvent[] = [];\r\n  slowEvents: SlowEvent[] = [];\r\n}\r\n","export interface IPoint {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport interface ILine {\r\n  p1: IPoint;\r\n  p2: IPoint;\r\n}\r\nexport interface ICircle {\r\n  center: IPoint;\r\n  radius: number;\r\n}\r\n\r\nexport function getDelta(from: IPoint, to: IPoint, abs: boolean = false): IPoint {\r\n  const delta = { x: to.x - from.x, y: to.y - from.y };\r\n  if (abs) {\r\n    delta.x = Math.abs(delta.x);\r\n    delta.y = Math.abs(delta.y);\r\n  }\r\n  return delta;\r\n}\r\n\r\nexport function pointsEqual(p1: IPoint, p2: IPoint) {\r\n  return p1.x === p2.x && p1.y === p2.y;\r\n}\r\n\r\nexport function getDistance(p1: IPoint, p2: IPoint) {\r\n  const delta = getDelta(p1, p2);\r\n  return Math.sqrt(delta.x * delta.x + delta.y * delta.y);\r\n}\r\n\r\nexport function gcd(a: number, b: number): number {\r\n  if (!b) {\r\n    return a;\r\n  }\r\n  return gcd(b, a % b);\r\n}\r\n\r\nexport function getAngle(deltaX: number, deltaY: number) {\r\n  const angle = Math.atan2(deltaY, deltaX);\r\n  let deg = (angle * 180) / Math.PI;\r\n  deg += 90; // have 0deg to be deltaY < 0 or up\r\n  if (deg < 0) deg += 360; // deg 0 - 359\r\n  return deg;\r\n}\r\n\r\n// https://stackoverflow.com/a/37225895\r\nexport function getIntersections(circle: ICircle, line: ILine) {\r\n  const v1: IPoint = { x: line.p2.x - line.p1.x, y: line.p2.y - line.p1.y };\r\n  const v2: IPoint = { x: line.p1.x - circle.center.x, y: line.p1.y - circle.center.y };\r\n  let b = v1.x * v2.x + v1.y * v2.y;\r\n  const c = 2 * (v1.x * v1.x + v1.y * v1.y);\r\n  b *= -2;\r\n  const d = Math.sqrt(b * b - 2 * c * (v2.x * v2.x + v2.y * v2.y - circle.radius * circle.radius));\r\n  if (isNaN(d)) {\r\n    // no intersections\r\n    return [];\r\n  }\r\n  const u1 = (b - d) / c; // these represent the unit distance of point one and two on the line\r\n  const u2 = (b + d) / c;\r\n  const retP1: IPoint = { x: 0, y: 0 }; // return points\r\n  const retP2: IPoint = { x: 0, y: 0 };\r\n  const result = []; // return array\r\n  if (u1 <= 1 && u1 >= 0) {\r\n    // add point if on the line segment\r\n    retP1.x = line.p1.x + v1.x * u1;\r\n    retP1.y = line.p1.y + v1.y * u1;\r\n    result.push(retP1);\r\n  }\r\n  if (u2 <= 1 && u2 >= 0) {\r\n    // second add point if on the line segment\r\n    retP2.x = line.p1.x + v1.x * u2;\r\n    retP2.y = line.p1.y + v1.y * u2;\r\n    if (retP2.x !== retP1.x || retP2.y !== retP1.y) {\r\n      result[result.length] = retP2;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nexport function getPointToLineDistance(p: IPoint, line: ILine) {\r\n  const v1: IPoint = { x: line.p2.x - line.p1.x, y: line.p2.y - line.p1.y };\r\n  const v2: IPoint = { x: p.x - line.p1.x, y: p.y - line.p1.y };\r\n  const v3: IPoint = { x: 0, y: 0 };\r\n  const u = (v2.x * v1.x + v2.y * v1.y) / (v1.y * v1.y + v1.x * v1.x); // unit dist of point on line\r\n  if (u >= 0 && u <= 1) {\r\n    v3.x = v1.x * u + line.p1.x - p.x;\r\n    v3.y = v1.y * u + line.p1.y - p.y;\r\n    v3.x *= v3.x;\r\n    v3.y *= v3.y;\r\n    return Math.sqrt(v3.y + v3.x); // return distance from line\r\n  }\r\n  // get distance from end points\r\n  v3.x = p.x - line.p2.x;\r\n  v3.y = p.y - line.p2.y;\r\n  v3.x *= v3.x; // square vectors\r\n  v3.y *= v3.y;\r\n  v2.x *= v2.x;\r\n  v2.y *= v2.y;\r\n  return Math.min(Math.sqrt(v2.y + v2.x), Math.sqrt(v3.y + v3.x)); // return smaller of two distances as the result\r\n}\r\n","import { INode, findShortestPath, IEdge } from \"@/utils/graph\";\r\nimport { RunResult, MoveEvent, SlowEvent } from \"@/game-engine/run-result\";\r\nimport {\r\n  gcd,\r\n  getDistance,\r\n  IPoint,\r\n  getAngle,\r\n  ILine,\r\n  getIntersections,\r\n  ICircle,\r\n  getDelta,\r\n  pointsEqual\r\n} from \"@/utils/math\";\r\nimport { PriorityQueue } from \"@/utils/priority-queue\";\r\n\r\n// times in sec\r\n// angles in deg\r\n// distance in x/y coords\r\nexport interface IGameConfig {\r\n  entranceLength?: number;\r\n  boardWidth?: number;\r\n  boardHeight?: number;\r\n\r\n  // speeds etc\r\n  moveSpeed?: number;\r\n  turnRate?: number;\r\n  slowTowerRange?: number;\r\n  slowFactor?: number;\r\n  slowDuration?: number;\r\n}\r\n\r\nexport class Tower {\r\n  isSlow: boolean;\r\n  isFixed: boolean;\r\n\r\n  constructor(isSlow: boolean = false, isFixed: boolean = false) {\r\n    this.isSlow = isSlow;\r\n    this.isFixed = isFixed;\r\n  }\r\n}\r\n\r\nexport class Edge {\r\n  to: IPoint;\r\n  dist: number;\r\n}\r\nexport class Node {\r\n  p: IPoint;\r\n  edges: Edge[];\r\n\r\n  constructor(p: IPoint);\r\n  constructor(x: number, y: number);\r\n  constructor(arg1: IPoint | number, arg2?: number) {\r\n    if (typeof arg1 === \"number\") {\r\n      this.p = { x: arg1, y: arg2 };\r\n    } else {\r\n      this.p = arg1;\r\n    }\r\n    this.edges = [];\r\n  }\r\n}\r\n\r\ninterface RampNodes {\r\n  spawn: Node;\r\n  left: Node;\r\n  right: Node;\r\n}\r\n\r\ninterface IGraphNode extends INode {\r\n  id: number;\r\n  p: IPoint;\r\n  edges: IEdge[];\r\n}\r\n\r\nexport class GameEngine {\r\n  config: IGameConfig;\r\n\r\n  towers: Tower[][];\r\n  nodes: Node[][];\r\n\r\n  start: RampNodes;\r\n\r\n  end: RampNodes;\r\n\r\n  constructor(config: IGameConfig = {}) {\r\n    const defaultConfig: IGameConfig = {\r\n      entranceLength: 6.5,\r\n      boardHeight: 16,\r\n      boardWidth: 18,\r\n\r\n      moveSpeed: 5.6,\r\n      turnRate: 1500,\r\n      slowTowerRange: 4.2,\r\n      slowFactor: 0.5,\r\n      slowDuration: 5\r\n    };\r\n    this.config = { ...defaultConfig, ...config };\r\n    this.init();\r\n  }\r\n\r\n  private init() {\r\n    this.initNodes();\r\n\r\n    this.resetTowers();\r\n  }\r\n\r\n  private initNodes() {\r\n    const config = this.config;\r\n\r\n    // setup nodes\r\n    const xMid = this.config.boardWidth / 2 - 0.5;\r\n    const xMidLeft = Math.floor(xMid);\r\n    const xMidRight = Math.ceil(xMid);\r\n    this.start = {\r\n      spawn: new Node(xMid, config.boardHeight + config.entranceLength - 1),\r\n      left: new Node(xMidLeft, config.boardHeight),\r\n      right: new Node(xMidRight, config.boardHeight)\r\n    };\r\n    this.end = {\r\n      spawn: new Node(xMid, -config.entranceLength),\r\n      left: new Node(xMidLeft, -1),\r\n      right: new Node(xMidRight, -1)\r\n    };\r\n\r\n    this.nodes = new Array(config.boardWidth);\r\n    for (let x = 0; x < config.boardWidth; x++) {\r\n      this.nodes[x] = [];\r\n      for (let y = 0; y < config.boardHeight; y++) {\r\n        this.nodes[x].push(new Node(x, y));\r\n      }\r\n    }\r\n\r\n    // setup edges\r\n    this.start.spawn.edges.push({\r\n      to: this.end.spawn.p,\r\n      dist: this.start.spawn.p.y - this.end.spawn.p.y\r\n    });\r\n\r\n    this.buildEntranceEdges(this.start, true);\r\n    this.buildEntranceEdges(this.end, false);\r\n\r\n    for (let x = 0; x < config.boardWidth; x++) {\r\n      for (let y = 0; y < config.boardHeight; y++) {\r\n        this.nodes[x][y].edges.push(...this.buildEdges(x, y));\r\n      }\r\n    }\r\n  }\r\n  private buildEdges(x: number, y: number) {\r\n    const config = this.config;\r\n\r\n    const edges: Edge[] = [];\r\n    for (let i = 0; i < config.boardWidth; i++) {\r\n      for (let j = 0; j < config.boardHeight; j++) {\r\n        if (i === x && j === y) continue;\r\n        if (gcd(Math.abs(i - x), Math.abs(j - y)) > 1) continue;\r\n\r\n        const to = { x: i, y: j };\r\n        edges.push({ to, dist: getDistance({ x, y }, to) });\r\n      }\r\n    }\r\n    return edges;\r\n  }\r\n\r\n  private buildEntranceEdges(ramp: RampNodes, isStart: boolean) {\r\n    const config = this.config;\r\n\r\n    const spawn = ramp.spawn;\r\n    for (let x = 0; x < config.boardWidth; x++) {\r\n      for (let y = 0; y < config.boardHeight; y++) {\r\n        const delta = getDelta(spawn.p, { x, y }, true);\r\n        if (delta.x / delta.y <= 0.5 / config.entranceLength && gcd(delta.x * 2, delta.y * 2) <= 2) {\r\n          if (isStart) {\r\n            const to = { x, y };\r\n            spawn.edges.push({ to, dist: getDistance(spawn.p, to) });\r\n          } else {\r\n            this.nodes[x][y].edges.push({ to: spawn.p, dist: getDistance(spawn.p, { x, y }) });\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    const rampDist = getDistance(spawn.p, ramp.left.p);\r\n    if (isStart) {\r\n      spawn.edges.push({ to: ramp.left.p, dist: rampDist });\r\n      spawn.edges.push({ to: ramp.right.p, dist: rampDist });\r\n\r\n      ramp.left.edges.push({ to: { x: ramp.left.p.x, y: ramp.left.p.y - 1 }, dist: 1 });\r\n      ramp.right.edges.push({ to: { x: ramp.right.p.x, y: ramp.right.p.y - 1 }, dist: 1 });\r\n    } else {\r\n      this.nodes[ramp.left.p.x][0].edges.push({ to: { x: ramp.left.p.x, y: -1 }, dist: 1 });\r\n      this.nodes[ramp.right.p.x][0].edges.push({ to: { x: ramp.right.p.x, y: -1 }, dist: 1 });\r\n\r\n      ramp.left.edges.push({ to: spawn.p, dist: rampDist });\r\n      ramp.right.edges.push({ to: spawn.p, dist: rampDist });\r\n    }\r\n  }\r\n\r\n  setTower(x: number, y: number, isSlow: boolean, isFixed: boolean = false) {\r\n    if (x < 0 || x >= this.config.boardWidth - 1 || y < 0 || y >= this.config.boardHeight - 1) return;\r\n\r\n    for (let i = x - 1; i <= x + 1; i++) {\r\n      for (let j = y - 1; j <= y + 1; j++) {\r\n        this.deleteSingleTower(i, j);\r\n      }\r\n    }\r\n    this.towers[x][y] = new Tower(isSlow, isFixed);\r\n  }\r\n  deleteTower(x: number, y: number) {\r\n    for (let i = x - 1; i <= x; i++) {\r\n      for (let j = y - 1; j <= y; j++) {\r\n        this.deleteSingleTower(i, j);\r\n      }\r\n    }\r\n  }\r\n  private deleteSingleTower(x: number, y: number) {\r\n    if (x < 0 || x >= this.config.boardWidth || y < 0 || y > this.config.boardHeight) return;\r\n\r\n    const tower = this.towers[x][y];\r\n    if (tower) {\r\n      this.towers[x][y] = null;\r\n    }\r\n  }\r\n\r\n  clearTowers() {\r\n    this.resetTowers();\r\n  }\r\n  private resetTowers() {\r\n    const config = this.config;\r\n\r\n    this.towers = new Array(config.boardWidth);\r\n    for (let x = 0; x < config.boardWidth; x++) {\r\n      const rows = new Array(config.boardHeight);\r\n      rows.fill(null);\r\n      this.towers[x] = rows;\r\n    }\r\n  }\r\n\r\n  getRunResult() {\r\n    const { startNode, endNode } = this.buildGraph();\r\n    const shortestPath = findShortestPath(startNode, endNode);\r\n    if (shortestPath === null) return null;\r\n\r\n    return this.buildRunResult(shortestPath);\r\n  }\r\n\r\n  private buildGraph() {\r\n    const config = this.config;\r\n\r\n    const allNodes: Node[] = [];\r\n    const board: IGraphNode[][] = [];\r\n    for (let x = 0; x < config.boardWidth; x++) {\r\n      board[x] = [];\r\n      for (let y = 0; y < config.boardHeight; y++) {\r\n        if (!this.isNodeBlocked(x, y)) {\r\n          board[x][y] = {\r\n            id: x * 100 + y,\r\n            p: { x, y },\r\n            edges: []\r\n          };\r\n          allNodes.push(this.nodes[x][y]);\r\n        }\r\n      }\r\n    }\r\n    const rampNodes = [\r\n      this.start.spawn,\r\n      this.start.left,\r\n      this.start.right,\r\n      this.end.spawn,\r\n      this.end.left,\r\n      this.end.right\r\n    ];\r\n\r\n    let id = -1;\r\n    for (const node of rampNodes) {\r\n      if (!board[node.p.x]) board[node.p.x] = [];\r\n\r\n      board[node.p.x][node.p.y] = {\r\n        id: id--,\r\n        p: node.p,\r\n        edges: []\r\n      };\r\n\r\n      allNodes.push(node);\r\n    }\r\n\r\n    for (const node of allNodes) {\r\n      for (const edge of node.edges) {\r\n        const from = board[node.p.x][node.p.y];\r\n        const to = board[edge.to.x][edge.to.y];\r\n\r\n        if (to && !this.isEdgeBlocked(node.p, edge)) {\r\n          from.edges.push({ from, to, dist: edge.dist });\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      startNode: board[this.start.spawn.p.x][this.start.spawn.p.y],\r\n      endNode: board[this.end.spawn.p.x][this.end.spawn.p.y]\r\n    };\r\n  }\r\n\r\n  private isNodeBlocked(x: number, y: number) {\r\n    for (let i = Math.max(0, x - 1); i <= x; i++) {\r\n      for (let j = Math.max(0, y - 1); j <= y; j++) {\r\n        if (this.towers[i][j]) return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n  private isEdgeBlocked(p: IPoint, edge: Edge) {\r\n    // tower search area\r\n    const startX = Math.floor(Math.max(0, Math.min(p.x, edge.to.x) - 1));\r\n    const endX = Math.ceil(Math.min(this.config.boardWidth - 1, Math.max(p.x, edge.to.x)));\r\n    const startY = Math.max(0, Math.min(p.y, edge.to.y) - 1);\r\n    const endY = Math.min(this.config.boardHeight - 1, Math.max(p.y, edge.to.y));\r\n\r\n    const lowerX = Math.floor(p.x);\r\n    const higherX = Math.ceil(p.x);\r\n\r\n    for (let i = startX; i <= endX; i++) {\r\n      for (let j = startY; j <= endY; j++) {\r\n        const tower = this.towers[i][j];\r\n        if (tower) {\r\n          const delta = getDelta(p, edge.to);\r\n\r\n          // vertical/horizontal movement\r\n          if (delta.x === 0 && i >= lowerX - 1 && i <= higherX) return true;\r\n          if (delta.y === 0 && j >= p.y - 1 && j <= p.y) return true;\r\n\r\n          // diagonal movement\r\n          const angle = delta.y / delta.x;\r\n          const isDirectionTopLeftBottomRight = angle > 0;\r\n          let towerPassPoint1: IPoint;\r\n          let towerPassPoint2: IPoint;\r\n          if (isDirectionTopLeftBottomRight) {\r\n            towerPassPoint1 = { x: i + 2, y: j - 1 }; // top right\r\n            towerPassPoint2 = { x: i - 1, y: j + 2 }; // bottom left\r\n          } else {\r\n            towerPassPoint1 = { x: i - 1, y: j - 1 }; // top left\r\n            towerPassPoint2 = { x: i + 2, y: j + 2 }; // bottom right\r\n          }\r\n\r\n          let tp1Angle = (towerPassPoint1.y - p.y) / (towerPassPoint1.x - p.x);\r\n          let tp2Angle = (towerPassPoint2.y - p.y) / (towerPassPoint2.x - p.x);\r\n\r\n          // adjust negative large angles\r\n          if (isDirectionTopLeftBottomRight) {\r\n            if (tp1Angle < -1) tp1Angle = 1000000;\r\n            if (tp2Angle < -1) tp2Angle = 1000000;\r\n          } else {\r\n            if (tp1Angle > 1) tp1Angle = -1000000;\r\n            if (tp2Angle > 1) tp2Angle = -1000000;\r\n          }\r\n\r\n          const canPassTower = (tp1Angle >= angle && tp2Angle >= angle) || (tp1Angle <= angle && tp2Angle <= angle);\r\n          if (!canPassTower) return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private buildRunResult(path: IEdge[]) {\r\n    const config = this.config;\r\n    const result = new RunResult();\r\n    const startNode = path[0].from as IGraphNode;\r\n\r\n    let slowFactor = 1;\r\n    let slowEndTime = -1;\r\n    const slowTowers = this.getSlowTowers().map(t => ({ p: t, slowReadyTime: -1 }));\r\n\r\n    result.moveEvents.push(new MoveEvent(0, startNode.p));\r\n\r\n    path.forEach(edge => {\r\n      while (!pointsEqual(result.moveEvents.slice(-1)[0].p, (edge.to as IGraphNode).p)) {\r\n        const to = edge.to as IGraphNode;\r\n        const from = edge.from as IGraphNode;\r\n        const lastResult = result.moveEvents.slice(-1)[0];\r\n\r\n        const delta = getDelta(from.p, to.p);\r\n        const angle = getAngle(delta.x, delta.y);\r\n\r\n        const ms = config.moveSpeed * slowFactor;\r\n        const turnRate = config.turnRate * slowFactor;\r\n\r\n        const timeEvents = new PriorityQueue<{\r\n          time: number;\r\n          type: \"move\" | \"slowStart\" | \"slowEnd\";\r\n          tower?: { p: IPoint; slowReadyTime: number };\r\n        }>(10);\r\n\r\n        const isTurning = lastResult.angle !== angle;\r\n\r\n        // handle turning\r\n        if (isTurning) {\r\n          const deltaAngle = (angle - lastResult.angle) % 180;\r\n          const time = Math.abs(deltaAngle) / turnRate + lastResult.time;\r\n          timeEvents.enqueue({ time, type: \"move\" }, time);\r\n        }\r\n        // handle movement\r\n        else {\r\n          const dist = getDistance(lastResult.p, to.p);\r\n          const time = dist / ms + lastResult.time;\r\n          timeEvents.enqueue({ time, type: \"move\" }, time);\r\n        }\r\n\r\n        // slow towers\r\n        slowTowers.forEach(tower => {\r\n          const towerSlowEndTime = tower.slowReadyTime;\r\n          if (towerSlowEndTime >= lastResult.time) {\r\n            timeEvents.enqueue({ time: towerSlowEndTime, type: \"slowEnd\", tower }, towerSlowEndTime);\r\n          } else {\r\n            const towerCircle = this.getTowerCircle(tower.p);\r\n            if (getDistance(lastResult.p, towerCircle.center) <= config.slowTowerRange) {\r\n              timeEvents.enqueue({ time: lastResult.time, type: \"slowStart\", tower }, lastResult.time);\r\n            } else {\r\n              const line: ILine = { p1: lastResult.p, p2: to.p };\r\n              const intersections = getIntersections(towerCircle, line);\r\n\r\n              if (intersections.length) {\r\n                const intersectionDist = getDistance(lastResult.p, intersections[0]);\r\n                const intersectionTime = intersectionDist / ms + lastResult.time;\r\n                timeEvents.enqueue({ time: intersectionTime, type: \"slowStart\", tower }, intersectionTime);\r\n              }\r\n            }\r\n          }\r\n        });\r\n        // slow time end\r\n        if (slowEndTime >= lastResult.time) {\r\n          timeEvents.enqueue({ time: slowEndTime, type: \"slowEnd\" }, slowEndTime);\r\n        }\r\n\r\n        const nextTimeEvent = timeEvents.front();\r\n        const nextTime = nextTimeEvent.time;\r\n        const deltaTime = nextTime - lastResult.time;\r\n        let isSlowed = lastResult.isSlowed;\r\n\r\n        if (nextTimeEvent.type === \"slowStart\") {\r\n          isSlowed = true;\r\n          slowFactor = config.slowFactor;\r\n          slowEndTime = nextTime + config.slowDuration;\r\n\r\n          nextTimeEvent.tower.slowReadyTime = nextTime + config.slowDuration;\r\n          result.slowEvents.push(new SlowEvent(nextTime, nextTimeEvent.tower.p));\r\n        } else if (nextTimeEvent.type === \"slowEnd\") {\r\n          if (nextTimeEvent.tower) {\r\n            nextTimeEvent.tower.slowReadyTime = -1;\r\n          } else {\r\n            isSlowed = false;\r\n            slowFactor = 1;\r\n            slowEndTime = -1;\r\n          }\r\n        }\r\n\r\n        if (lastResult.angle !== angle) {\r\n          if (nextTimeEvent.type === \"move\") {\r\n            result.moveEvents.push(new MoveEvent(nextTimeEvent.time, lastResult.p, isSlowed, angle));\r\n          } else {\r\n            const deltaAngle = angle - lastResult.angle;\r\n            const angleDir = deltaAngle > 180 || (deltaAngle < 0 && deltaAngle > -180) ? -1 : 1;\r\n            const newAngle = (lastResult.angle + deltaTime * turnRate * angleDir + 360) % 360;\r\n\r\n            result.moveEvents.push(new MoveEvent(nextTimeEvent.time, lastResult.p, isSlowed, newAngle));\r\n          }\r\n        } else {\r\n          if (nextTimeEvent.type === \"move\") {\r\n            result.moveEvents.push(new MoveEvent(nextTimeEvent.time, to.p, isSlowed, lastResult.angle));\r\n          } else {\r\n            const deltaMov = getDelta(lastResult.p, to.p);\r\n            const deltaDist = getDistance(lastResult.p, to.p);\r\n\r\n            const newPoint = {\r\n              x: lastResult.p.x + (deltaMov.x / deltaDist) * deltaTime * ms,\r\n              y: lastResult.p.y + (deltaMov.y / deltaDist) * deltaTime * ms\r\n            };\r\n            result.moveEvents.push(new MoveEvent(nextTimeEvent.time, newPoint, isSlowed, lastResult.angle));\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    return result;\r\n  }\r\n\r\n  private getSlowTowers() {\r\n    const config = this.config;\r\n    const towers = this.towers;\r\n    const slowTowers: IPoint[] = [];\r\n    for (let x = 0; x < config.boardWidth; x++) {\r\n      for (let y = 0; y < config.boardHeight; y++) {\r\n        const tower = towers[x][y];\r\n        if (tower && tower.isSlow) {\r\n          slowTowers.push({ x, y });\r\n        }\r\n      }\r\n    }\r\n    return slowTowers;\r\n  }\r\n\r\n  private getTowerCircle(tower: IPoint): ICircle {\r\n    return { center: { x: tower.x + 0.5, y: tower.y }, radius: this.config.slowTowerRange };\r\n  }\r\n}\r\n","import * as PIXI from \"pixi.js\";\r\nimport { GameEngine, IGameConfig, Tower } from \"@/game-engine/engine\";\r\nimport { IPoint } from \"@/utils/math\";\r\nimport { Dictionary } from \"@/utils/graph\";\r\n\r\nexport type TowerAction = \"tower\" | \"slow\" | \"delete\";\r\n\r\nconst widthMargin = 50;\r\nconst heightMargin = 10;\r\nconst tileSize = 24;\r\nconst tileColor = 0x2666cc;\r\nconst tileGridColor = 0xcccccc;\r\nconst tileLineWidth = 2;\r\n\r\ninterface ITowerGraphics {\r\n  tower: PIXI.Graphics;\r\n  orb?: PIXI.Graphics;\r\n}\r\n\r\nexport class GameGraphics {\r\n  engine: GameEngine;\r\n  towerAction: TowerAction = \"tower\";\r\n\r\n  private app: PIXI.Application = null;\r\n  private timer: TimerGraphics = null;\r\n\r\n  private towers: TowerGraphics[][] = [];\r\n\r\n  constructor(engine: GameEngine) {\r\n    this.engine = engine;\r\n  }\r\n\r\n  initialize(el: HTMLElement) {\r\n    const config = this.engine.config;\r\n\r\n    const width = config.boardWidth * tileSize + 2 * widthMargin;\r\n    const height = (config.boardHeight + config.entranceLength * 2) * tileSize + 2 * heightMargin;\r\n    this.app = new PIXI.Application({ width, height });\r\n    this.app.renderer.backgroundColor = 0x7dd69d;\r\n\r\n    el.appendChild(this.app.view);\r\n\r\n    this.timer = new TimerGraphics(this.app);\r\n    this.setupBoard();\r\n  }\r\n\r\n  private setupBoard() {\r\n    const config = this.engine.config;\r\n\r\n    const rampWidth = 2 * tileSize;\r\n    const rampLength = config.entranceLength * tileSize;\r\n    const rampXCoord = this.getXCoord(config.boardWidth / 2 - 1);\r\n    const exit = this.buildRamp({ x: rampXCoord, y: heightMargin }, rampWidth, rampLength);\r\n    const entrance = this.buildRamp({ x: rampXCoord, y: this.getYCoord(config.boardHeight) }, rampWidth, rampLength);\r\n    this.app.stage.addChild(exit, entrance);\r\n\r\n    for (let x = 0; x < config.boardWidth; x++) {\r\n      this.towers.push([]);\r\n\r\n      for (let y = 0; y < config.boardHeight; y++) {\r\n        const xCoord = this.getXCoord(x);\r\n        const yCoord = this.getYCoord(y);\r\n\r\n        const tile = this.buildTile({ x: xCoord, y: yCoord });\r\n        tile.interactive = true;\r\n\r\n        tile.addListener(\"click\", () => this.tileClicked(x, y));\r\n\r\n        this.app.stage.addChild(tile);\r\n        this.towers[x].push(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  private buildRamp(p: IPoint, width: number, height: number) {\r\n    const ramp = new PIXI.Graphics();\r\n    ramp.lineStyle(tileLineWidth, tileGridColor);\r\n    ramp.beginFill(tileColor);\r\n    ramp.drawRect(p.x, p.y, width, height);\r\n    ramp.endFill();\r\n    return ramp;\r\n  }\r\n  private buildTile(p: IPoint) {\r\n    const tile = new PIXI.Graphics();\r\n    tile.lineStyle(tileLineWidth, tileGridColor);\r\n    tile.beginFill(tileColor);\r\n    tile.drawRect(p.x, p.y, tileSize, tileSize);\r\n    tile.endFill();\r\n    return tile;\r\n  }\r\n\r\n  clearTowers() {\r\n    this.engine.clearTowers();\r\n    this.updateTowers();\r\n  }\r\n  run() {\r\n    const config = this.engine.config;\r\n\r\n    const result = this.engine.getRunResult();\r\n    if (result === null) {\r\n      window.alert(\"No path\");\r\n      return;\r\n    }\r\n    const { moveEvents, slowEvents } = result;\r\n\r\n    const mazer = new MazerGraphics(this.app);\r\n    mazer.x = this.getXCoord(moveEvents[0].p.x);\r\n    mazer.y = this.getYCoord(moveEvents[0].p.y);\r\n\r\n    const slowAnimations = slowEvents.reduce<Dictionary<SlowAnimation>>((animations, event) => {\r\n      const key = event.p.x * 100 + event.p.y;\r\n      if (!animations[key])\r\n        animations[key] = new SlowAnimation(this.app, config, {\r\n          x: this.getXCoord(event.p.x),\r\n          y: this.getYCoord(event.p.y)\r\n        });\r\n      animations[key].activateTimes.push(event.time);\r\n      return animations;\r\n    }, {});\r\n\r\n    let curMoveEvent = 0;\r\n    let startTime: number = null;\r\n\r\n    const loop = (time: number) => {\r\n      if (startTime === null) startTime = time;\r\n\r\n      const elapsedTimeS = (time - startTime) / 1000;\r\n\r\n      while (elapsedTimeS >= moveEvents[curMoveEvent + 1].time) {\r\n        const finishedEvent = moveEvents[curMoveEvent + 1];\r\n        mazer.x = this.getXCoord(finishedEvent.p.x);\r\n        mazer.y = this.getYCoord(finishedEvent.p.y);\r\n        mazer.angle = finishedEvent.angle;\r\n\r\n        curMoveEvent++;\r\n\r\n        // finished\r\n        if (curMoveEvent >= moveEvents.length - 1) {\r\n          this.timer.text = moveEvents[curMoveEvent].time.toFixed(3);\r\n          mazer.remove();\r\n          Object.values(slowAnimations).forEach(a => a.remove());\r\n          return;\r\n        }\r\n      }\r\n\r\n      this.timer.text = elapsedTimeS.toFixed(3);\r\n\r\n      const curEvent = moveEvents[curMoveEvent];\r\n      const nextEvent = moveEvents[curMoveEvent + 1];\r\n      const deltaTime = (elapsedTimeS - curEvent.time) / (nextEvent.time - curEvent.time);\r\n\r\n      Object.values(slowAnimations).forEach(a => a.update(elapsedTimeS));\r\n\r\n      mazer.slowed = curEvent.isSlowed;\r\n\r\n      if (curEvent.angle !== nextEvent.angle) {\r\n        let angleChange = nextEvent.angle - curEvent.angle;\r\n        if (angleChange > 180) angleChange -= 360;\r\n        if (angleChange < -180) angleChange += 360;\r\n\r\n        const deltaAngle = deltaTime * angleChange;\r\n        mazer.angle = (curEvent.angle + deltaAngle + 360) % 360;\r\n      } else {\r\n        const deltaX = deltaTime * (nextEvent.p.x - curEvent.p.x);\r\n        const deltaY = deltaTime * (nextEvent.p.y - curEvent.p.y);\r\n\r\n        mazer.x = this.getXCoord(curEvent.p.x + deltaX);\r\n        mazer.y = this.getYCoord(curEvent.p.y + deltaY);\r\n      }\r\n\r\n      requestAnimationFrame(loop);\r\n    };\r\n\r\n    setTimeout(() => {\r\n      requestAnimationFrame(loop);\r\n    }, 50);\r\n  }\r\n\r\n  private tileClicked(x: number, y: number) {\r\n    if (this.towerAction === \"delete\") {\r\n      this.engine.deleteTower(x, y);\r\n    } else {\r\n      this.engine.setTower(x, y, this.towerAction === \"slow\");\r\n    }\r\n    this.updateTowers();\r\n  }\r\n  private updateTowers() {\r\n    const app = this.app;\r\n\r\n    const config = this.engine.config;\r\n    const engineTowers = this.engine.towers;\r\n    const towers = this.towers;\r\n\r\n    for (let x = 0; x < config.boardWidth; x++) {\r\n      for (let y = 0; y < config.boardHeight; y++) {\r\n        const tower = towers[x][y];\r\n        const engineTower = engineTowers[x][y];\r\n\r\n        if (engineTower) {\r\n          if (!tower || tower.isSlow !== engineTower.isSlow || tower.isFixed !== engineTower.isFixed) {\r\n            if (tower) tower.remove();\r\n\r\n            towers[x][y] = new TowerGraphics(\r\n              this.app,\r\n              { x: this.getXCoord(x), y: this.getYCoord(y) },\r\n              engineTower.isSlow,\r\n              engineTower.isFixed\r\n            );\r\n          }\r\n        } else if (tower) {\r\n          tower.remove();\r\n          towers[x][y] = null;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  private getXCoord(x: number) {\r\n    return x * tileSize + widthMargin;\r\n  }\r\n  private getYCoord(y: number) {\r\n    return (y + this.engine.config.entranceLength) * tileSize + heightMargin;\r\n  }\r\n}\r\n\r\nclass TimerGraphics {\r\n  private app: PIXI.Application;\r\n  private timer: PIXI.Text;\r\n\r\n  constructor(app: PIXI.Application) {\r\n    this.app = app;\r\n\r\n    this.timer = new PIXI.Text(\"0.000\", { font: \"bold 24px Roboto\", fill: 0x000000 });\r\n    this.timer.anchor.x = 1;\r\n    this.timer.x = this.app.renderer.width - tileSize;\r\n    this.timer.y = tileSize;\r\n    app.stage.addChild(this.timer);\r\n  }\r\n\r\n  set text(val: string) {\r\n    this.timer.text = val;\r\n  }\r\n\r\n  remove() {\r\n    this.app.stage.removeChild(this.timer);\r\n  }\r\n}\r\n\r\nclass TowerGraphics extends Tower {\r\n  private readonly size = tileSize * 2;\r\n  private readonly orbRadius = tileSize / 2;\r\n  private app: PIXI.Application;\r\n  private graphics: PIXI.Graphics;\r\n\r\n  constructor(app: PIXI.Application, p: IPoint, isSlow: boolean, isFixed: boolean) {\r\n    super(isSlow, isFixed);\r\n\r\n    this.app = app;\r\n\r\n    const tower = new PIXI.Graphics();\r\n    tower.lineStyle(tileLineWidth, tileGridColor);\r\n    const color = isFixed ? 0xcc0000 : 0x777777;\r\n    tower.beginFill(color);\r\n    tower.drawRect(p.x, p.y, this.size, this.size);\r\n    tower.endFill();\r\n\r\n    if (isSlow) {\r\n      tower.lineStyle(0);\r\n      tower.beginFill(0xf9f9f9);\r\n      tower.drawCircle(p.x + this.size / 2, p.y + this.size / 2, this.orbRadius);\r\n      tower.endFill();\r\n    }\r\n\r\n    this.graphics = tower;\r\n    app.stage.addChild(tower);\r\n  }\r\n\r\n  remove() {\r\n    this.app.stage.removeChild(this.graphics);\r\n  }\r\n}\r\n\r\nclass MazerGraphics {\r\n  private readonly radius = tileSize / 2;\r\n  private app: PIXI.Application;\r\n  private mazer: PIXI.Graphics;\r\n\r\n  constructor(app: PIXI.Application) {\r\n    this.mazer = new PIXI.Graphics();\r\n    this.mazer.beginFill(0x00ff00);\r\n    this.mazer.drawCircle(0, 0, this.radius);\r\n    this.mazer.endFill();\r\n    this.mazer.beginFill(0xffff00);\r\n    this.mazer.drawCircle(0, -this.radius + 4, 4);\r\n    this.mazer.endFill();\r\n\r\n    this.app = app;\r\n    app.stage.addChild(this.mazer);\r\n  }\r\n\r\n  set x(val: number) {\r\n    this.mazer.x = val + this.radius;\r\n  }\r\n  set y(val: number) {\r\n    this.mazer.y = val + this.radius;\r\n  }\r\n  set angle(val: number) {\r\n    this.mazer.angle = val;\r\n  }\r\n\r\n  set slowed(val: boolean) {\r\n    this.mazer.tint = val ? 0x999999 : 0xffffff;\r\n  }\r\n\r\n  remove() {\r\n    this.app.stage.removeChild(this.mazer);\r\n  }\r\n}\r\n\r\nclass SlowAnimation {\r\n  private readonly radius = tileSize;\r\n  private readonly duration = 0.15;\r\n  private config: IGameConfig;\r\n  private app: PIXI.Application;\r\n\r\n  private graphics: PIXI.Graphics = null;\r\n\r\n  private isActivated = false;\r\n\r\n  activateTimes: number[] = [];\r\n\r\n  constructor(app: PIXI.Application, config: IGameConfig, p: IPoint) {\r\n    this.config = config;\r\n    this.app = app;\r\n\r\n    this.graphics = new PIXI.Graphics();\r\n    this.graphics.lineStyle(8, 0xffffff);\r\n    this.graphics.beginFill(0x000000, 0);\r\n    this.graphics.drawCircle(0, 0, this.radius);\r\n    this.graphics.endFill();\r\n\r\n    this.graphics.x = p.x + this.radius;\r\n    this.graphics.y = p.y + this.radius;\r\n  }\r\n\r\n  update(time: number) {\r\n    const nextActivateTime = this.activateTimes.find(t => time <= t && time + this.duration >= t);\r\n    if (nextActivateTime) {\r\n      if (!this.isActivated) {\r\n        this.app.stage.addChild(this.graphics);\r\n        this.isActivated = true;\r\n      }\r\n\r\n      const deltaTime = (time + this.duration - nextActivateTime) / this.duration;\r\n\r\n      this.graphics.scale.x = 1 + deltaTime * (this.config.slowTowerRange / 1.8);\r\n      this.graphics.scale.y = 1 + deltaTime * (this.config.slowTowerRange / 1.8);\r\n    } else if (this.isActivated) {\r\n      this.isActivated = false;\r\n      this.graphics.scale.x = 1;\r\n      this.graphics.scale.y = 1;\r\n      this.app.stage.removeChild(this.graphics);\r\n    }\r\n  }\r\n\r\n  remove() {\r\n    this.app.stage.removeChild(this.graphics);\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"width\":\"62.888mm\",\"height\":\"62.204mm\",\"viewBox\":\"0 0 62.888 62.204\"}},[_c('g',{attrs:{\"transform\":\"translate(678.78 24.653)\"}},[_c('g',{attrs:{\"fill\":\"#2666cc\",\"stroke\":\"#ccc\",\"stroke-width\":\"3\"}},[_c('rect',{attrs:{\"x\":\"-666.36\",\"y\":\"-23.153\",\"width\":\"24.482\",\"height\":\"24.482\"}}),_c('rect',{attrs:{\"x\":\"-641.87\",\"y\":\"1.3285\",\"width\":\"24.482\",\"height\":\"24.482\"}}),_c('rect',{attrs:{\"x\":\"-641.87\",\"y\":\"-23.153\",\"width\":\"24.482\",\"height\":\"24.482\"}}),_c('rect',{attrs:{\"x\":\"-666.36\",\"y\":\"1.3285\",\"width\":\"24.482\",\"height\":\"24.482\"}})]),_c('circle',{attrs:{\"cx\":\"-629.71\",\"cy\":\"-10.862\",\"r\":\"12.284\",\"fill\":\"#0f0\"}}),_c('circle',{attrs:{\"cx\":\"-636.7\",\"cy\":\"-18.043\",\"r\":\"3.0238\",\"fill\":\"#ff0\"}}),_c('rect',{attrs:{\"x\":\"-677.74\",\"y\":\"1.3701\",\"width\":\"35.823\",\"height\":\"35.139\",\"fill\":\"#777\",\"stroke\":\"#ccc\",\"stroke-width\":\"2.0831\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Logo.vue?vue&type=template&id=7019e3dc&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Component, Vue } from \"vue-property-decorator\";\r\nimport { GameEngine } from \"@/game-engine/engine\";\r\nimport { GameGraphics } from \"@/graphics/graphics\";\r\nimport { Key } from \"ts-keycode-enum\";\r\nimport Logo from \"@/components/Logo.vue\";\r\n\r\n@Component({\r\n  components: { Logo }\r\n})\r\nexport default class App extends Vue {\r\n  engine: GameEngine; // not reactive\r\n  graphics: GameGraphics = null;\r\n\r\n  created() {\r\n    this.engine = new GameEngine();\r\n    this.graphics = new GameGraphics(this.engine);\r\n  }\r\n  mounted() {\r\n    this.graphics.initialize(this.$refs.canvas as HTMLElement);\r\n    this.setupHotkeys();\r\n  }\r\n\r\n  setupHotkeys() {\r\n    window.addEventListener(\"keydown\", evt => {\r\n      if (evt.which === Key.T) {\r\n        this.graphics.towerAction = \"tower\";\r\n      } else if (evt.which === Key.S) {\r\n        this.graphics.towerAction = \"slow\";\r\n      } else if (evt.which === Key.D) {\r\n        this.graphics.towerAction = \"delete\";\r\n      }\r\n    });\r\n  }\r\n}\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--12-2!./App.vue.ts?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=bfc15eca&\"\nimport script from \"./App.vue.ts?vue&type=script&lang=ts&\"\nexport * from \"./App.vue.ts?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* tslint:disable:no-console */\n\nimport { register } from \"register-service-worker\";\n\nif (process.env.NODE_ENV === \"production\") {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready() {\n      console.log(\n        \"App is being served from cache by a service worker.\\n\" + \"For more details, visit https://goo.gl/AFskqB\"\n      );\n    },\n    registered() {\n      console.log(\"Service worker has been registered.\");\n    },\n    cached() {\n      console.log(\"Content has been cached for offline use.\");\n    },\n    updatefound() {\n      console.log(\"New content is downloading.\");\n    },\n    updated() {\n      console.log(\"New content is available; please refresh.\");\n    },\n    offline() {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    },\n    error(error) {\n      console.error(\"Error during service worker registration:\", error);\n    }\n  });\n}\n","import Vue from \"vue\";\r\nimport App from \"./App.vue\";\r\nimport \"./registerServiceWorker\";\r\n\r\nimport \"./assets/normalize.css\";\r\nimport \"./assets/skeleton.css\";\r\nimport \"./assets/styles.css\";\r\nimport './registerServiceWorker'\r\n\r\nVue.config.productionTip = false;\r\n\r\nnew Vue({\r\n  render: h => h(App)\r\n}).$mount(\"#app\");\r\n"],"sourceRoot":""}